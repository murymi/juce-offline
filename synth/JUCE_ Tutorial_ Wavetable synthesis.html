<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0058)https://docs.juce.com/master/tutorial_wavetable_synth.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta name="generator" content="Doxygen 1.11.0">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JUCE: Tutorial: Wavetable synthesis</title>
<link href="./JUCE_ Tutorial_ Wavetable synthesis_files/tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./JUCE_ Tutorial_ Wavetable synthesis_files/jquery.js"></script>
<script type="text/javascript" src="./JUCE_ Tutorial_ Wavetable synthesis_files/dynsections.js"></script>
<link href="./JUCE_ Tutorial_ Wavetable synthesis_files/navtree.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./JUCE_ Tutorial_ Wavetable synthesis_files/resize.js"></script>
<script type="text/javascript" src="./JUCE_ Tutorial_ Wavetable synthesis_files/cookie.js"></script>
<link href="./JUCE_ Tutorial_ Wavetable synthesis_files/search.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./JUCE_ Tutorial_ Wavetable synthesis_files/searchdata.js"></script>
<script type="text/javascript" src="./JUCE_ Tutorial_ Wavetable synthesis_files/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="./JUCE_ Tutorial_ Wavetable synthesis_files/doxygen.css" rel="stylesheet" type="text/css">
<link rel="apple-touch-icon" sizes="180x180" href="https://docs.juce.com/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://docs.juce.com/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://docs.juce.com/favicons/favicon-16x16.png">
<link rel="manifest" href="https://docs.juce.com/favicons/site.webmanifest">
<link rel="mask-icon" href="https://docs.juce.com/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://docs.juce.com/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-config" content="../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="preload" as="style" href="./JUCE_ Tutorial_ Wavetable synthesis_files/css">
<link rel="stylesheet" href="./JUCE_ Tutorial_ Wavetable synthesis_files/css">
<script src="./JUCE_ Tutorial_ Wavetable synthesis_files/script.js" site="COHIAING" defer=""></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <header id="_header-4-13" class="oxy-header-wrapper oxy-overlay-header oxy-header"><div id="_header_row-5-13" class="oxy-header-row"><div class="oxy-header-container"><div id="_header_left-6-13" class="oxy-header-left"><a id="link-7-13" class="ct-link" href="https://juce.com/"><img id="image-8-13" alt="JUCE Logo" src="./JUCE_ Tutorial_ Wavetable synthesis_files/JUCE-logo-horiz-ondark.png" class="ct-image"></a></div><div id="_header_center-9-13" class="oxy-header-center"></div><div id="_header_right-10-13" class="oxy-header-right"><nav id="_nav_menu-11-13" class="oxy-nav-menu oxy-nav-menu-dropdowns oxy-nav-menu-dropdown-arrow oxy-nav-menu-responsive-dropdowns"><div class="oxy-menu-toggle"><div class="oxy-nav-menu-hamburger-wrap"><div class="oxy-nav-menu-hamburger"><div class="oxy-nav-menu-hamburger-line"></div><div class="oxy-nav-menu-hamburger-line"></div><div class="oxy-nav-menu-hamburger-line"></div></div></div></div><div class="menu-main-menu-container"><ul id="menu-main-menu" class="oxy-nav-menu-list"><li id="menu-item-290" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-290"><a href="https://juce.com/juce/whats-new/">Discover</a>
    <ul class="sub-menu">
        <li id="menu-item-254" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-254"><a href="https://juce.com/juce/whats-new/">What's New</a></li>
        <li id="menu-item-252" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-252"><a href="https://juce.com/juce/features/">Features</a></li>
    </ul>
    </li>
    <li id="menu-item-291" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-291"><a href="https://juce.com/learn/documentation/">Learn</a>
    <ul class="sub-menu">
        <li id="menu-item-241" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-241"><a href="https://juce.com/learn/documentation/">Documentation</a></li>
        <li id="menu-item-240" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-240"><a href="https://juce.com/learn/tutorials/">Tutorials</a></li>
        <li id="menu-item-275" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-275"><a href="https://juce.com/stories/">Made with JUCE</a></li>
        <li id="menu-item-242" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-242"><a href="https://juce.com/resources/">Resources</a></li>
    </ul>
    </li>
    <li id="menu-item-230" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-230"><a href="https://forum.juce.com/">Forum</a></li>
    </ul></div></nav><a id="link-28-13" class="ct-link" href="https://account.juce.com/account/dashboard" target="_self"><div id="fancy_icon-27-13" class="ct-fancy-icon"><svg id="svg-fancy_icon-27-13"><use xlink:href="#FontAwesomeicon-user-circle"></use></svg></div></a><a id="link_button-23-13" class="ct-link-button " href="https://juce.com/get-juce/">Get JUCE</a></div></div></div></header>
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1"><defs><symbol id="FontAwesomeicon-user-circle" viewBox="0 0 28 28"><title>user-circle</title><path d="M23.797 20.922c-0.406-2.922-1.594-5.516-4.25-5.875-1.375 1.5-3.359 2.453-5.547 2.453s-4.172-0.953-5.547-2.453c-2.656 0.359-3.844 2.953-4.25 5.875 2.172 3.063 5.75 5.078 9.797 5.078s7.625-2.016 9.797-5.078zM20 10c0-3.313-2.688-6-6-6s-6 2.688-6 6 2.688 6 6 6 6-2.688 6-6zM28 14c0 7.703-6.25 14-14 14-7.734 0-14-6.281-14-14 0-7.734 6.266-14 14-14s14 6.266 14 14z"></path></symbol></defs></svg>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            jQuery('body').on('click', '.oxy-menu-toggle', function() {
                jQuery(this).parent('.oxy-nav-menu').toggleClass('oxy-nav-menu-open');
                jQuery('body').toggleClass('oxy-nav-menu-prevent-overflow');
                jQuery('html').toggleClass('oxy-nav-menu-prevent-overflow');
            });
            var selector = '.oxy-nav-menu-open .menu-item a[href*="#"]';
            jQuery('body').on('click', selector, function(){
                jQuery('.oxy-nav-menu-open').removeClass('oxy-nav-menu-open');
                jQuery('body').removeClass('oxy-nav-menu-prevent-overflow');
                jQuery('html').removeClass('oxy-nav-menu-prevent-overflow');
                jQuery(this).click();
            });
        });
    </script>
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="https://docs.juce.com/master/index.html"><span>Tags</span></a></li>
      <li><a href="https://docs.juce.com/master/topics.html"><span>JUCE&nbsp;Modules</span></a></li>
      <li><a href="https://docs.juce.com/master/classes.html"><span>Alphabetical</span></a></li>
      <li><a href="https://juce.com/learn/tutorials"><span>Tutorials</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" tabindex="0">&nbsp;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="./JUCE_ Tutorial_ Wavetable synthesis_files/close.svg" alt=""></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)" tabindex="0">
<a class="SelectItem" onclick="searchBox.OnSelectItem(0)" href="javascript:void(0)"><span class="SelectionMark">â€¢</span>All</a><a class="SelectItem" onclick="searchBox.OnSelectItem(1)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" onclick="searchBox.OnSelectItem(2)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" onclick="searchBox.OnSelectItem(3)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" onclick="searchBox.OnSelectItem(4)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" onclick="searchBox.OnSelectItem(5)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" onclick="searchBox.OnSelectItem(6)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" onclick="searchBox.OnSelectItem(7)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" onclick="searchBox.OnSelectItem(8)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" onclick="searchBox.OnSelectItem(9)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" onclick="searchBox.OnSelectItem(10)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Macros</a><a class="SelectItem" onclick="searchBox.OnSelectItem(11)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Modules</a><a class="SelectItem" onclick="searchBox.OnSelectItem(12)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content" style="height: 807.891px;">
<div><div class="header">
  <div class="headertitle"><div class="title">Tutorial: Wavetable synthesis</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_getting_started">Getting started</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_demo_project">The demo project</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_wavetables">Wavetables</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_sine_wave_oscillator">Sine Wave Oscillator</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_wavetable_oscillator">Wavetable Oscillator</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_wrapping_wavetable">Wrapping the Wavetable</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_selecting_harmonics">Selecting the Harmonics</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_notes">Notes</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_summary">Summary</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_wavetable_synth.html#tutorial_wavetable_synth_see_also">See also</a></li>
</ul>
</div>
<div class="textblock"><p>Incorporate wavetables to optimise your synthesiser oscillators. Manage the state of a sine wave oscillator using a wavetable and write data to the audio output.</p>
<p><span class="headerlabel">Level:</span> Intermediate</p>
<p><span class="headerlabel">Platforms:</span> Windows , macOS , Linux</p>
<p><span class="headerlabel">Classes:</span> <a class="el" href="https://docs.juce.com/master/classAudioBuffer.html" title="A multi-channel buffer containing floating point audio samples.">AudioBuffer</a>, <a class="el" href="https://docs.juce.com/master/classAudioAppComponent.html" title="A base class for writing audio apps that stream from the audio i/o devices.">AudioAppComponent</a>, <a class="el" href="https://docs.juce.com/master/classRandom.html" title="A random number generator.">Random</a>, <a class="el" href="https://docs.juce.com/master/structMathConstants.html" title="Commonly used mathematical constants.">MathConstants</a></p>
<h1><a class="anchor" id="tutorial_wavetable_synth_getting_started"></a>
Getting started</h1>
<p>Download the demo project for this tutorial here: <a href="https://docs.juce.com/tutorials/PIPs/WavetableSynthTutorial.zip">PIP</a> | <a href="https://docs.juce.com/tutorials/ZIPs/WavetableSynthTutorial.zip">ZIP</a> . Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a class="el" href="https://docs.juce.com/master/tutorial_new_projucer_project.html">Tutorial: Projucer Part 1: Getting started with the Projucer</a>.</p>
<h1><a class="anchor" id="tutorial_wavetable_synth_demo_project"></a>
The demo project</h1>
<p>The demo project simply generates and outputs a stack of random sine wave harmonics through its stereo output. The user interface allows us to monitor the CPU usage by comparing the traditional implementation of an oscillator and the one that makes use of a wavetable.</p>
<p>In order to properly evaluate and compare the CPU usage of our different implementations, we are going to run our application in the <b>Release</b> configuration instead of the regular <b>Debug</b> configuration used during testing and development. By building the project in <b>Release</b> mode the compiler will be able to optimise the code as much as possible by removing assertions and comments from the code and inlining functions for example.</p>
<p>To change the build configuration in Xcode, first click on the deployment targets in the top left corner of the interface and navigate to <b class="onscreen_text">Edit Scheme...</b> as shown below:</p>
<div class="image">
<img src="./JUCE_ Tutorial_ Wavetable synthesis_files/tutorial_wavetable_synth_screenshot1.png" alt="">
<div class="caption">
Editing the scheme</div></div>
<p>In the pop-up window, select <b class="onscreen_text">Release</b> in the <b class="onscreen_text">Build Configuration</b> combo box as shown in the screenshot:</p>
<div class="image">
<img src="./JUCE_ Tutorial_ Wavetable synthesis_files/tutorial_wavetable_synth_screenshot2.png" alt="">
<div class="caption">
Changing the build configuration</div></div>
<p>Your application will now run after heavy compiler optimisations and the CPU usage should decrease significantly.</p>
<h1><a class="anchor" id="tutorial_wavetable_synth_wavetables"></a>
Wavetables</h1>
<p>Wavetable synthesis is a synthesis method that uses look-up tables that are pre-filled with periodic waveforms to generate oscillators without having to generate the same waveform for each sample calculated. The wavetable is initialised with periodic waveforms of your choice and the resolution of these waveforms can be specified. When retrieving the correct sample value to output, the value is found by interpolating between two wavetable samples if the number of samples in the table does not match with the number of samples in the audio buffer block and its corresponding requested frequency.</p>
<p>As an example, let's say that we want to look up a sine wave from the wavetable. We would first create a wavetable for a single cycle of a sine wave with a resolution of 128 sample points for instance. For each sample in the buffer block, we can then request the sine wave sample value by calculating the correct interpolated sample using a combination of the sample rate, the requested frequency to play, the resolution of the wavetable and the current phase or angle of the waveform.</p>
<p>Let's start with a simple sine wave oscillator implementation before diving into wavetables.</p>
<h1><a class="anchor" id="tutorial_wavetable_synth_sine_wave_oscillator"></a>
Sine Wave Oscillator</h1>
<dl class="section note"><dt>Note</dt><dd>This section is covered in more detail in <a class="el" href="https://docs.juce.com/master/tutorial_sine_synth.html">Tutorial: Build a sine wave synthesiser</a> and if you need help with these steps please refer to that tutorial first.</dd></dl>
<p>In the <code class="project_code">SineOscillator</code> class, we keep track of two member variables that store the current angle or phase in the waveform cycle and the angle delta to increment between every cycle depending on the frequency and the sample rate:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SineOscillator</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SineOscillator() {}</div>
<div class="line">    <span class="comment">//...</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">float</span> currentAngle = 0.0f, angleDelta = 0.0f;</div>
<div class="line">};</div>
</div><!-- fragment --><p>The <code class="project_code">setFrequency()</code> function allows us to calculate the angle delta by first dividing the frequency by the sample rate and multiplying the result by 2pi, the length of a cycle in radians:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setFrequency (<span class="keywordtype">float</span> frequency, <span class="keywordtype">float</span> sampleRate)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> cyclesPerSample = frequency / sampleRate;</div>
<div class="line">        angleDelta = cyclesPerSample * juce::MathConstants&lt;float&gt;::twoPi;</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The <code class="project_code">getNextSample()</code> function gets called by the <code class="project_code">getNextAudioBlock()</code> function of the <a class="el" href="https://docs.juce.com/master/classAudioSource.html" title="Base class for objects that can produce a continuous stream of audio.">AudioSource</a> on every sample in the buffer to retrieve the sample value from the oscillator. Here we calculate the sample value using the <code class="code">std::sin()</code> function by passing the current angle as an argument and updating the current angle by calling the helper function <code class="project_code">updateAngle()</code> defined after:</p>
<div class="fragment"><div class="line">    <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#gac2535cb549b141b3a96b8a08014e46cb">forcedinline</a> <span class="keywordtype">float</span> getNextSample() noexcept</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> currentSample = std::sin (currentAngle);</div>
<div class="line">        updateAngle();</div>
<div class="line">        <span class="keywordflow">return</span> currentSample;</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The angle is updated by incrementing the current angle with the angle delta calculated previously when setting the frequency and by wrapping the value when the angle exceeds 2pi:</p>
<div class="fragment"><div class="line">    <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#gac2535cb549b141b3a96b8a08014e46cb">forcedinline</a> <span class="keywordtype">void</span> updateAngle() noexcept</div>
<div class="line">    {</div>
<div class="line">        currentAngle += angleDelta;</div>
<div class="line">        <span class="keywordflow">if</span> (currentAngle &gt;= juce::MathConstants&lt;float&gt;::twoPi)</div>
<div class="line">            currentAngle -= juce::MathConstants&lt;float&gt;::twoPi;</div>
<div class="line">    }</div>
</div><!-- fragment --><p>Now let's switch to the implementation of our <code class="project_code">MainContentComponent</code> class.</p>
<p>We keep track of the overall level of our output and an array of oscillators as private member variables as shown here:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainContentComponent   : <span class="keyword">public</span> juce::AudioAppComponent,</div>
<div class="line">                               <span class="keyword">public</span> juce::Timer</div>
<div class="line">{</div>
<div class="line"><span class="comment">//...</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">//...</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">float</span> level = 0.0f;</div>
<div class="line">    juce::OwnedArray&lt;SineOscillator&gt; oscillators;</div>
<div class="line">    <span class="comment">//...</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>In the <code class="project_code">prepareToPlay()</code> function, we have to initialise the oscillators and set their frequencies to play based on the sample rate as follows:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> prepareToPlay (<span class="keywordtype">int</span>, <span class="keywordtype">double</span> sampleRate)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keyword">auto</span> numberOfOscillators = 200;                                                 <span class="comment">// [1]</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; numberOfOscillators; ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span>* oscillator = <span class="keyword">new</span> SineOscillator();                                    <span class="comment">// [2]</span></div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> midiNote = juce::Random::getSystemRandom().nextDouble() * 36.0 + 48.0; <span class="comment">// [3]</span></div>
<div class="line">            <span class="keyword">auto</span> frequency = 440.0 * pow (2.0, (midiNote - 69.0) / 12.0);               <span class="comment">// [4]</span></div>
<div class="line"> </div>
<div class="line">            oscillator-&gt;setFrequency ((<span class="keywordtype">float</span>) frequency, (<span class="keywordtype">float</span>) sampleRate);           <span class="comment">// [5]</span></div>
<div class="line">            oscillators.add (oscillator);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        level = 0.25f / (float) numberOfOscillators;                                    <span class="comment">// [6]</span></div>
<div class="line">    }</div>
</div><!-- fragment --><ul>
<li><span class="comment">[1]</span> : First we define a large number of oscillators to evaluate the CPU load of such a number.</li>
<li><span class="comment">[2]</span> : For each oscillator, we instantiate a new <code class="project_code">SineOscillator</code> object that generates a single sine wave voice.</li>
<li><span class="comment">[3]</span> : We also select a random midi note using the <a class="el" href="https://docs.juce.com/master/classRandom.html" title="A random number generator.">Random</a> class by shifting the lowest possible note by 4 octaves and defining a range of 3 octaves starting from that lowest note.</li>
<li><span class="comment">[4]</span> : In order to calculate the frequency of that midi note, we use a simple mathematical formula to retrieve the scalar to multiply the frequency of A440 with. Since we know that the midi note number of A440 is 69, by subtracting the midi note by 69 we get the semitone distance from A440 that we can then plug into the following formula: <span style="font-family: times; font-style: italic">440 * 2 ^ (d / 12)</span></li>
<li><span class="comment">[5]</span> : Then, we set the frequency of the oscillator by passing the frequency and sample rate as arguments to the <code class="project_code">setFrequency()</code> function. We also add the oscillator to the array of oscillators.</li>
<li><span class="comment">[6]</span> : Finally, we define the output level by dividing a quiet gain level by the number of oscillators to prevent clipping of the signal by summing such a large number of oscillator samples.</li>
</ul>
<p>In the <code class="project_code">getNextAudioBlock()</code> function we simply sum all the oscillator samples and write the result to the output buffers as shown below:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> getNextAudioBlock (<span class="keyword">const</span> juce::AudioSourceChannelInfo&amp; bufferToFill)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keyword">auto</span>* leftBuffer  = bufferToFill.buffer-&gt;getWritePointer (0, bufferToFill.startSample); <span class="comment">// [7]</span></div>
<div class="line">        <span class="keyword">auto</span>* rightBuffer = bufferToFill.buffer-&gt;getWritePointer (1, bufferToFill.startSample);</div>
<div class="line"> </div>
<div class="line">        bufferToFill.clearActiveBufferRegion();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> oscillatorIndex = 0; oscillatorIndex &lt; oscillators.size(); ++oscillatorIndex)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span>* oscillator = oscillators.getUnchecked (oscillatorIndex);                      <span class="comment">// [8]</span></div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> sample = 0; sample &lt; bufferToFill.numSamples; ++sample)</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">auto</span> levelSample = oscillator-&gt;getNextSample() * level;                         <span class="comment">// [9]</span></div>
<div class="line"> </div>
<div class="line">                leftBuffer[sample]  += levelSample;                                             <span class="comment">// [10]</span></div>
<div class="line">                rightBuffer[sample] += levelSample;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment --><ul>
<li><span class="comment">[7]</span> : First, we retrieve the left and right channel pointers to write to the output buffers.</li>
<li><span class="comment">[8]</span> : For each oscillator in the array we retrieve a pointer to the oscillator instance.</li>
<li><span class="comment">[9]</span> : Then for each sample in the audio sample buffer we get the sine wave sample and trim the gain with the level variable.</li>
<li><span class="comment">[10]</span> : Finally we can add that sample value to the left and right channel samples and sum the signal with the other oscillators.</li>
</ul>
<p>If we run the application now, we should be able to hear a random noise of stacked sine waves.</p>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Instead of generating random midi notes, find the midi notes of a certain chord and generate random notes from the chord. </dd>
</dl>
<h1><a class="anchor" id="tutorial_wavetable_synth_wavetable_oscillator"></a>
Wavetable Oscillator</h1>
<p>Let's change the oscillator implementation to a wavetable synthesis method.</p>
<p>In the <code class="project_code">MainContentComponent</code> class, add an AudioSampleBuffer as a member variable that will hold the wavetable values of our single sine wave cycle <span class="comment">[1]</span> . We also define the wavetable resolution as a constant of 128 samples using the bit shift operator <span class="comment">[2]</span> :</p>
<div class="fragment"><div class="line"><span class="keyword">private</span>:</div>
<div class="line">    juce::Label cpuUsageLabel;</div>
<div class="line">    juce::Label cpuUsageText;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tableSize = 1 &lt;&lt; 7;      <span class="comment">// [2]</span></div>
<div class="line">    <span class="keywordtype">float</span> level = 0.0f;</div>
<div class="line"> </div>
<div class="line">    juce::AudioSampleBuffer sineTable;          <span class="comment">// [1]</span></div>
<div class="line">    juce::OwnedArray&lt;WavetableOscillator&gt; oscillators;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#ga851b02724a8158a7f746c66b5758b3dd">JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR</a> (MainContentComponent)</div>
<div class="line">};</div>
</div><!-- fragment --><p>Define a new function called <code class="project_code">createWavetable()</code> that will be called in the <code class="project_code">MainContentComponent</code> constructor before we start the audio processing.</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> createWavetable()</div>
<div class="line">    {</div>
<div class="line">        sineTable.setSize (1, (<span class="keywordtype">int</span>) tableSize);</div>
<div class="line">        <span class="keyword">auto</span>* samples = sineTable.getWritePointer (0);                                   <span class="comment">// [3]</span></div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> angleDelta = juce::MathConstants&lt;double&gt;::twoPi / (double) (tableSize - 1); <span class="comment">// [4]</span></div>
<div class="line">        <span class="keyword">auto</span> currentAngle = 0.0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tableSize; ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> sample = std::sin (currentAngle);                                       <span class="comment">// [5]</span></div>
<div class="line">            samples[i] = (float) sample;</div>
<div class="line">            currentAngle += angleDelta;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment --><ul>
<li><span class="comment">[3]</span> : In this function, initialise the AudioSampleBuffer by calling the <code class="project_code">setSize()</code> method by specifying that we only need one channel and the number of samples equal to the table size, in our case a resolution of 128. Then retrieve the write pointer for that single channel buffer.</li>
<li><span class="comment">[4]</span> : Next, calculate the angle delta similarly to the previous section but this time using the table size and thus dividing the full 2pi cycle by 127.</li>
<li><span class="comment">[5]</span> : Now for each point in our wavetable, retrieve the sine wave value using the <code class="code">std::sin()</code> function, assign the value to the buffer sample and increment the current angle by the delta value.</li>
</ul>
<p>Add this function call in the <code class="project_code">MainContentComponent</code> constructor as follows:</p>
<div class="fragment"><div class="line">    MainContentComponent()</div>
<div class="line">    {</div>
<div class="line">        cpuUsageLabel.setText (<span class="stringliteral">"CPU Usage"</span>, juce::dontSendNotification);</div>
<div class="line">        cpuUsageText.setJustificationType (juce::Justification::right);</div>
<div class="line">        addAndMakeVisible (cpuUsageLabel);</div>
<div class="line">        addAndMakeVisible (cpuUsageText);</div>
<div class="line"> </div>
<div class="line">        createWavetable();</div>
<div class="line"> </div>
<div class="line">        setSize (400, 200);</div>
<div class="line">        setAudioChannels (0, 2); <span class="comment">// no inputs, two outputs</span></div>
<div class="line">        startTimer (50);</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The wavetable should now contain 128 samples of a full sine wave cycle.</p>
<p>In the for() loop of the <code class="project_code">prepareToPlay()</code> function, change the below line to instantiate a <code class="project_code">WavetableOscillator</code> object instead of a <code class="project_code">SineOscillator</code> object:</p>
<div class="fragment"><div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; numberOfOscillators; ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span>* oscillator = <span class="keyword">new</span> WavetableOscillator (sineTable);</div>
</div><!-- fragment --><p>This constructor takes as an argument the wavetable to use for the sound generation and therefore, create a corresponding new <code class="project_code">WavetableOscillator</code> class as shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>WavetableOscillator</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    WavetableOscillator (<span class="keyword">const</span> juce::AudioSampleBuffer&amp; wavetableToUse)</div>
<div class="line">        : wavetable (wavetableToUse)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#ga1f96ab6751237979b907a54f52a7296a">jassert</a> (wavetable.getNumChannels() == 1);</div>
<div class="line">    }</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">const</span> juce::AudioSampleBuffer&amp; wavetable;</div>
<div class="line">    <span class="keywordtype">float</span> currentIndex = 0.0f, tableDelta = 0.0f;</div>
<div class="line">};</div>
</div><!-- fragment --><p>Instead of keeping track of the current angle and the angle delta of the waveform cycle, define two member variables that store the current wavetable index and the angle delta of the wavetable. Also, define an AudioSampleBuffer variable to hold a reference to the wavetable to use.</p>
<p>The <code class="project_code">setFrequency()</code> function of the <code class="project_code">WavetableOscillator</code> class is fairly similar to the one implemented previously except that the angle delta is calculated using the size of the wavetable instead of the full cycle in radians of 2pi as follows:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setFrequency (<span class="keywordtype">float</span> frequency, <span class="keywordtype">float</span> sampleRate)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> tableSizeOverSampleRate = (float) wavetable.getNumSamples() / sampleRate;</div>
<div class="line">        tableDelta = frequency * tableSizeOverSampleRate;</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The <code class="project_code">getNextSample()</code> function is where the interpolation between the wavetable values occur in order to get the correct sample value.</p>
<div class="fragment"><div class="line">    <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#gac2535cb549b141b3a96b8a08014e46cb">forcedinline</a> <span class="keywordtype">float</span> getNextSample() noexcept</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> tableSize = (<span class="keywordtype">unsigned</span> int) wavetable.getNumSamples();</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> index0 = (<span class="keywordtype">unsigned</span> int) currentIndex;              <span class="comment">// [6]</span></div>
<div class="line">        <span class="keyword">auto</span> index1 = index0 == (tableSize - 1) ? (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) 0 : index0 + 1;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> frac = currentIndex - (float) index0;              <span class="comment">// [7]</span></div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span>* <a class="code hl_enumvalue" href="https://docs.juce.com/master/group__juce__gui__basics-accessibility.html#ggaf1349587ab6cac7e882cd63e1976682caaab9e1de16f38176f86d7a92ba337a8d">table</a> = wavetable.getReadPointer (0);             <span class="comment">// [8]</span></div>
<div class="line">        <span class="keyword">auto</span> value0 = <a class="code hl_enumvalue" href="https://docs.juce.com/master/group__juce__gui__basics-accessibility.html#ggaf1349587ab6cac7e882cd63e1976682caaab9e1de16f38176f86d7a92ba337a8d">table</a>[index0];</div>
<div class="line">        <span class="keyword">auto</span> value1 = <a class="code hl_enumvalue" href="https://docs.juce.com/master/group__juce__gui__basics-accessibility.html#ggaf1349587ab6cac7e882cd63e1976682caaab9e1de16f38176f86d7a92ba337a8d">table</a>[index1];</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> currentSample = value0 + frac * (value1 - value0); <span class="comment">// [9]</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ((currentIndex += tableDelta) &gt; (float) tableSize)   <span class="comment">// [10]</span></div>
<div class="line">            currentIndex -= (float) tableSize;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> currentSample;</div>
<div class="line">    }</div>
</div><!-- fragment --><ul>
<li><span class="comment">[6]</span> : First, temporarily store the two indices of the wavetable that surround the sample value that we are trying to retrieve. If the higher index goes beyond the size of the wavetable then we wrap the value to the start of the table.</li>
<li><span class="comment">[7]</span> : Next, calculate the interpolation value as a fraction between the two indices by subtracting the actual current sample by the truncated lower index. This should give us a value between <span style="font-family: times; font-style: italic">0 .. 1</span> that defines the fraction.</li>
<li><span class="comment">[8]</span> : Then get a pointer to the AudioSampleBuffer and read the values at the two indices and store these values temporarily.</li>
<li><span class="comment">[9]</span> : The interpolated sample value can then be retrieved by using the standard interpolation formula and the fraction value calculated previously.</li>
<li><span class="comment">[10]</span> : Finally, increment the angle delta of the table and wrap the value around if the value exceeds the table size.</li>
</ul>
<p>This implementation should give us the same output sound when we run the application.</p>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Modify the number of oscillators and observe the change in CPU usage. </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The source code for this modified version of the code can be found in the <code class="filename">WavetableSynthTutorial_02.h</code> file of the demo project.</dd></dl>
<h1><a class="anchor" id="tutorial_wavetable_synth_wrapping_wavetable"></a>
Wrapping the Wavetable</h1>
<p>If you paid close attention to the previous code, you may have noticed that we have one missing value in our wavetable. The final value is skipped as it wraps around to the first value which happens to be the same so let's fix that now.</p>
<p>In the <code class="project_code">WavetableOscillator</code> constructor, assign the table size variable to hold the resolution of the wave table minus one and define that member variable appropriately as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>WavetableOscillator</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    WavetableOscillator (<span class="keyword">const</span> juce::AudioSampleBuffer&amp; wavetableToUse)</div>
<div class="line">        : wavetable (wavetableToUse),</div>
<div class="line">          tableSize (wavetable.getNumSamples() - 1)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#ga1f96ab6751237979b907a54f52a7296a">jassert</a> (wavetable.getNumChannels() == 1);</div>
<div class="line">    }</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">const</span> juce::AudioSampleBuffer&amp; wavetable;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> tableSize;</div>
<div class="line">    <span class="keywordtype">float</span> currentIndex = 0.0f, tableDelta = 0.0f;</div>
<div class="line">};</div>
</div><!-- fragment --><p>The <code class="project_code">setFrequency()</code> function needs to be updated using this variable and notice that the angle delta of the table will be slightly smaller:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setFrequency (<span class="keywordtype">float</span> frequency, <span class="keywordtype">float</span> sampleRate)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> tableSizeOverSampleRate = (float) tableSize / sampleRate;</div>
<div class="line">        tableDelta = frequency * tableSizeOverSampleRate;</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The <code class="project_code">getNextSample()</code> function remains fairly similar except that we don't need to wrap the higher index anymore because we will increase the size of the table in the next step:</p>
<div class="fragment"><div class="line">    <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#gac2535cb549b141b3a96b8a08014e46cb">forcedinline</a> <span class="keywordtype">float</span> getNextSample() noexcept</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> index0 = (<span class="keywordtype">unsigned</span> int) currentIndex;</div>
<div class="line">        <span class="keyword">auto</span> index1 = index0 + 1;</div>
</div><!-- fragment --><p>Here unlike before we set the resolution as one above the defined value and set the last sample as being the same as the first sample:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> createWavetable()</div>
<div class="line">    {</div>
<div class="line">        sineTable.setSize (1, (<span class="keywordtype">int</span>) tableSize + 1);</div>
<div class="line">        <span class="keyword">auto</span>* samples = sineTable.getWritePointer (0);</div>
</div><!-- fragment --> <div class="fragment"><div class="line">        samples[tableSize] = samples[0];</div>
<div class="line">    }</div>
</div><!-- fragment --><p>This allows us to reduce the wrapping condition in the processing call and transfering the load to the <code class="project_code">createWavetable()</code> function that only gets called once at the start of the application.</p>
<p>The result should sound the same as the previous section but notice the slight decrease in CPU usage.</p>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Can you find a way to further optimise this code? Every arithmetic operation in DSP counts towards performance so you should try to eliminate as many as possible. </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The source code for this modified version of the code can be found in the <code class="filename">WavetableSynthTutorial_03.h</code> file of the demo project.</dd></dl>
<h1><a class="anchor" id="tutorial_wavetable_synth_selecting_harmonics"></a>
Selecting the Harmonics</h1>
<p>Instead of outputing a random sine wave sound, let's create a harmonious sine wave by explicitly setting its harmonics.</p>
<p>Modify the <code class="project_code">createWavetable()</code> function to incorporate the harmonics in the wavetable samples of the sine wave as follows:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> createWavetable()</div>
<div class="line">    {</div>
<div class="line">        sineTable.setSize (1, (<span class="keywordtype">int</span>) tableSize + 1);</div>
<div class="line">        sineTable.clear();</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span>* samples = sineTable.getWritePointer (0);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> harmonics[] = { 1, 3, 5, 6, 7, 9, 13, 15 };</div>
<div class="line">        <span class="keywordtype">float</span> harmonicWeights[] = { 0.5f, 0.1f, 0.05f, 0.125f, 0.09f, 0.005f, 0.002f, 0.001f };     <span class="comment">// [1]</span></div>
<div class="line"> </div>
<div class="line">        <a class="code hl_define" href="https://docs.juce.com/master/group__juce__core-system.html#ga1f96ab6751237979b907a54f52a7296a">jassert</a> (juce::numElementsInArray (harmonics) == juce::numElementsInArray (harmonicWeights));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> harmonic = 0; harmonic &lt; juce::numElementsInArray (harmonics); ++harmonic)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> angleDelta = juce::MathConstants&lt;double&gt;::twoPi / (double) (tableSize - 1) * harmonics[harmonic]; <span class="comment">// [2]</span></div>
<div class="line">            <span class="keyword">auto</span> currentAngle = 0.0;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tableSize; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keyword">auto</span> sample = std::sin (currentAngle);</div>
<div class="line">                samples[i] += (float) sample * harmonicWeights[harmonic];                           <span class="comment">// [3]</span></div>
<div class="line">                currentAngle += angleDelta;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        samples[tableSize] = samples[0];</div>
<div class="line">    }</div>
</div><!-- fragment --><ul>
<li><span class="comment">[1]</span> : Define two arrays that respectively describe the indices of the odd harmonics and its corresponding weights.</li>
<li><span class="comment">[2]</span> : For each harmonic, calculate the angle delta by multiplying the full 2pi cycle by the harmonic order and dividing by the table size. This essentially multiplies the frequency generated by the harmonic order.</li>
<li><span class="comment">[3]</span> : For each sample in the table, retrieve the sine value from the current angle, add the value to the existing buffer sample by trimming the gain with the corresponding harmonic weight and increment the current angle by the delta value.</li>
</ul>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> prepareToPlay (<span class="keywordtype">int</span>, <span class="keywordtype">double</span> sampleRate)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keyword">auto</span> numberOfOscillators = 10;</div>
</div><!-- fragment --><p>Finally, reduce the number of oscillators to 10 in the <code class="project_code">prepareToPlay()</code> function and listen to the result by running the application.</p>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Modify the harmonics to an even series and notice the change in timbre of the sound produced. What about an odd and even series? </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Since you are adding higher frequency components to the audio signal you need to watch out for aliasing effects! Dealing with these is beyond the scope of this tutorial, but reading about the Nyquistâ€“Shannon sampling theorem and upsampling would be a good place to start.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The source code for this modified version of the code can be found in the <code class="filename">WavetableSynthTutorial_04.h</code> file of the demo project.</dd></dl>
<h1><a class="anchor" id="tutorial_wavetable_synth_notes"></a>
Notes</h1>
<p>In this tutorial we explored how to create a wavetable from a sine wave but you can essentially store any type of periodic waveform of your choice as long as the first sample matches the last one.</p>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Modify the <code class="project_code">createWavetable()</code> function to generate and store different types of waveforms such as square, triangle or sawtooth waves. </dd>
</dl>
<h1><a class="anchor" id="tutorial_wavetable_synth_summary"></a>
Summary</h1>
<p>In this tutorial, we have learnt how to implement a wavetable synthesiser. In particular, we have:</p>
<ul>
<li>Converted our sine wave oscillator into a wavetable oscillator.</li>
<li>Optimised consequently the CPU usage with hundreds of oscillators.</li>
<li>Written random harmonics of the same oscillator to the audio output.</li>
<li>Created a harmonious sound by choosing the harmonics and their weights.</li>
</ul>
<h1><a class="anchor" id="tutorial_wavetable_synth_see_also"></a>
See also</h1>
<ul>
<li><a class="el" href="https://docs.juce.com/master/tutorial_simple_synth_noise.html">Tutorial: Build a white noise generator</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_sine_synth.html">Tutorial: Build a sine wave synthesiser</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_synth_db_level_control.html">Tutorial: Control audio levels using decibels</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_synth_level_control.html">Tutorial: Control audio levels</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_synth_using_midi_input.html">Tutorial: Build a MIDI synthesiser</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_looping_audio_sample_buffer.html">Tutorial: Looping audio using the AudioSampleBuffer class</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_looping_audio_sample_buffer_advanced.html">Tutorial: Looping audio using the AudioSampleBuffer class (advanced)</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<section id="section-10-81" class=" ct-section juce-sitemap"><div class="ct-section-inner-wrap"><div id="div_block-11-81" class="ct-div-block"><div id="new_columns-12-81" class="ct-new-columns"><div id="div_block-13-81" class="ct-div-block"><h3 id="headline-15-81" class="ct-headline ">Purchase</h3><a id="link_text-17-81" class="ct-link-text" href="https://juce.com/get-juce/">Get JUCE</a><h3 id="headline-20-81" class="ct-headline mt-xlrg">Discover</h3><a id="link_text-21-81" class="ct-link-text" href="https://juce.com/juce/whats-new/" target="_self">What's New in JUCE</a><a id="link_text-22-81" class="ct-link-text" href="https://juce.com/juce/features/" target="_self">Features</a><h3 id="headline-25-81" class="ct-headline mt-xlrg">Learn</h3><a id="link_text-27-81" class="ct-link-text" href="https://juce.com/learn/documentation/">Documentaion</a><a id="link_text-26-81" class="ct-link-text" href="https://juce.com/learn/tutorials/">Tutorials</a><a id="link_text-24-81" class="ct-link-text" href="https://juce.com/stories/" target="_self">Made with JUCE</a><a id="link_text-29-127" class="ct-link-text" href="https://juce.com/resources/" target="_self">Resources</a></div><div id="div_block-14-81" class="ct-div-block"><h3 id="headline-28-81" class="ct-headline">Support</h3><a id="link_text-31-81" class="ct-link-text" href="https://forum.juce.com/" target="_self">JUCE Forum</a><a class="ct-link-text" href="https://juce.com/newsletter" target="_self">Newsletter</a><a id="link_text-30-127" class="ct-link-text" href="https://juce.com/archive/">Archive</a><h3 id="headline-32-81" class="ct-headline mt-xlrg">About</h3><a id="link_text-29-81" class="ct-link-text" href="https://juce.com/contact-us/">Contact Us</a><a id="link_text-34-81" class="ct-link-text" href="https://juce.com/juce-legal/">JUCE Legal</a><a id="link_text-30-81" class="ct-link-text" href="https://juce.com/get-juce">JUCE Licensing FAQ</a><h3 id="headline-33-81" class="ct-headline mt-xlrg">Events</h3><a id="link_text-35-81" class="ct-link-text" href="https://audio.dev/" target="_blank">Audio Developer Conference</a></div><div id="div_block-38-81" class="ct-div-block"></div></div></div></div></section>
<section id="section-13-13" class=" ct-section"><div class="ct-section-inner-wrap"><div id="new_columns-14-13" class="ct-new-columns"><div id="div_block-20-13" class="ct-div-block"><div id="_social_icons-22-13" class="oxy-social-icons"><a href="https://www.facebook.com/jucelibrary" target="_blank" class="oxy-social-icons-facebook"><svg><title>Visit our Facebook</title><use xlink:href="#oxy-social-icons-icon-facebook"></use></svg></a><a href="https://twitter.com/jucelibrary" target="_blank" class="oxy-social-icons-twitter"><svg><title>Visit our Twitter</title><use xlink:href="#oxy-social-icons-icon-twitter"></use></svg></a><a href="https://www.linkedin.com/company/juce-c-/" target="_blank" class="oxy-social-icons-linkedin"><svg><title>Visit our LinkedIn</title><use xlink:href="#oxy-social-icons-icon-linkedin"></use></svg></a><a href="https://www.youtube.com/c/JUCElibrary" target="_blank" class="oxy-social-icons-youtube"><svg><title>Visit our YouTube channel</title><use xlink:href="#oxy-social-icons-icon-youtube"></use></svg></a></div></div><div id="div_block-17-13" class="ct-div-block"><a id="link-18-13" class="ct-link" href="https://juce.com/"><img id="image-19-13" alt="JUCE Logo" src="./JUCE_ Tutorial_ Wavetable synthesis_files/JUCE-logo-horiz-ondark.png" class="ct-image"></a></div><div id="div_block-15-13" class="ct-div-block"><div id="text_block-32-13" class="ct-text-block">Â© Raw Material Software Limited</div></div></div></div></section>
<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
   <defs>
      <symbol id="oxy-social-icons-icon-linkedin" viewBox="0 0 32 32">
         <title>linkedin</title>
         <path d="M12 12h5.535v2.837h0.079c0.77-1.381 2.655-2.837 5.464-2.837 5.842 0 6.922 3.637 6.922 8.367v9.633h-5.769v-8.54c0-2.037-0.042-4.657-3.001-4.657-3.005 0-3.463 2.218-3.463 4.509v8.688h-5.767v-18z"></path>
         <path d="M2 12h6v18h-6v-18z"></path>
         <path d="M8 7c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-facebook" viewBox="0 0 32 32">
         <title>facebook</title>
         <path d="M19 6h5v-6h-5c-3.86 0-7 3.14-7 7v3h-4v6h4v16h6v-16h5l1-6h-6v-3c0-0.542 0.458-1 1-1z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-pinterest" viewBox="0 0 32 32">
         <title>pinterest</title>
         <path d="M16 2.138c-7.656 0-13.863 6.206-13.863 13.863 0 5.875 3.656 10.887 8.813 12.906-0.119-1.094-0.231-2.781 0.050-3.975 0.25-1.081 1.625-6.887 1.625-6.887s-0.412-0.831-0.412-2.056c0-1.925 1.119-3.369 2.506-3.369 1.181 0 1.756 0.887 1.756 1.95 0 1.188-0.756 2.969-1.15 4.613-0.331 1.381 0.688 2.506 2.050 2.506 2.462 0 4.356-2.6 4.356-6.35 0-3.319-2.387-5.638-5.787-5.638-3.944 0-6.256 2.956-6.256 6.019 0 1.194 0.456 2.469 1.031 3.163 0.113 0.137 0.131 0.256 0.094 0.4-0.106 0.438-0.338 1.381-0.387 1.575-0.063 0.256-0.2 0.306-0.463 0.188-1.731-0.806-2.813-3.337-2.813-5.369 0-4.375 3.175-8.387 9.156-8.387 4.806 0 8.544 3.425 8.544 8.006 0 4.775-3.012 8.625-7.194 8.625-1.406 0-2.725-0.731-3.175-1.594 0 0-0.694 2.644-0.863 3.294-0.313 1.206-1.156 2.712-1.725 3.631 1.3 0.4 2.675 0.619 4.106 0.619 7.656 0 13.863-6.206 13.863-13.863 0-7.662-6.206-13.869-13.863-13.869z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-youtube" viewBox="0 0 32 32">
         <title>youtube</title>
         <path d="M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-rss" viewBox="0 0 32 32">
         <title>rss</title>
         <path d="M4.259 23.467c-2.35 0-4.259 1.917-4.259 4.252 0 2.349 1.909 4.244 4.259 4.244 2.358 0 4.265-1.895 4.265-4.244-0-2.336-1.907-4.252-4.265-4.252zM0.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391 2.825 2.822 4.384 6.595 4.384 10.603h6.16c-0-11.651-9.478-21.127-21.121-21.127zM0.012 0v6.136c14.243 0 25.836 11.604 25.836 25.864h6.152c0-17.64-14.352-32-31.988-32z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-twitter" viewBox="0 0 32 32">
         <title>twitter</title>
         <path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-instagram" viewBox="0 0 32 32">
         <title>instagram</title>
         <path d="M16 2.881c4.275 0 4.781 0.019 6.462 0.094 1.563 0.069 2.406 0.331 2.969 0.55 0.744 0.288 1.281 0.638 1.837 1.194 0.563 0.563 0.906 1.094 1.2 1.838 0.219 0.563 0.481 1.412 0.55 2.969 0.075 1.688 0.094 2.194 0.094 6.463s-0.019 4.781-0.094 6.463c-0.069 1.563-0.331 2.406-0.55 2.969-0.288 0.744-0.637 1.281-1.194 1.837-0.563 0.563-1.094 0.906-1.837 1.2-0.563 0.219-1.413 0.481-2.969 0.55-1.688 0.075-2.194 0.094-6.463 0.094s-4.781-0.019-6.463-0.094c-1.563-0.069-2.406-0.331-2.969-0.55-0.744-0.288-1.281-0.637-1.838-1.194-0.563-0.563-0.906-1.094-1.2-1.837-0.219-0.563-0.481-1.413-0.55-2.969-0.075-1.688-0.094-2.194-0.094-6.463s0.019-4.781 0.094-6.463c0.069-1.563 0.331-2.406 0.55-2.969 0.288-0.744 0.638-1.281 1.194-1.838 0.563-0.563 1.094-0.906 1.838-1.2 0.563-0.219 1.412-0.481 2.969-0.55 1.681-0.075 2.188-0.094 6.463-0.094zM16 0c-4.344 0-4.887 0.019-6.594 0.094-1.7 0.075-2.869 0.35-3.881 0.744-1.056 0.412-1.95 0.956-2.837 1.85-0.894 0.888-1.438 1.781-1.85 2.831-0.394 1.019-0.669 2.181-0.744 3.881-0.075 1.713-0.094 2.256-0.094 6.6s0.019 4.887 0.094 6.594c0.075 1.7 0.35 2.869 0.744 3.881 0.413 1.056 0.956 1.95 1.85 2.837 0.887 0.887 1.781 1.438 2.831 1.844 1.019 0.394 2.181 0.669 3.881 0.744 1.706 0.075 2.25 0.094 6.594 0.094s4.888-0.019 6.594-0.094c1.7-0.075 2.869-0.35 3.881-0.744 1.050-0.406 1.944-0.956 2.831-1.844s1.438-1.781 1.844-2.831c0.394-1.019 0.669-2.181 0.744-3.881 0.075-1.706 0.094-2.25 0.094-6.594s-0.019-4.887-0.094-6.594c-0.075-1.7-0.35-2.869-0.744-3.881-0.394-1.063-0.938-1.956-1.831-2.844-0.887-0.887-1.781-1.438-2.831-1.844-1.019-0.394-2.181-0.669-3.881-0.744-1.712-0.081-2.256-0.1-6.6-0.1v0z"></path>
         <path d="M16 7.781c-4.537 0-8.219 3.681-8.219 8.219s3.681 8.219 8.219 8.219 8.219-3.681 8.219-8.219c0-4.537-3.681-8.219-8.219-8.219zM16 21.331c-2.944 0-5.331-2.387-5.331-5.331s2.387-5.331 5.331-5.331c2.944 0 5.331 2.387 5.331 5.331s-2.387 5.331-5.331 5.331z"></path>
         <path d="M26.462 7.456c0 1.060-0.859 1.919-1.919 1.919s-1.919-0.859-1.919-1.919c0-1.060 0.859-1.919 1.919-1.919s1.919 0.859 1.919 1.919z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-facebook-blank" viewBox="0 0 32 32">
         <title>facebook-blank</title>
         <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h13v-14h-4v-4h4v-2c0-3.306 2.694-6 6-6h4v4h-4c-1.1 0-2 0.9-2 2v2h6l-1 4h-5v14h9c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-rss-blank" viewBox="0 0 32 32">
         <title>rss-blank</title>
         <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3zM8.719 25.975c-1.5 0-2.719-1.206-2.719-2.706 0-1.488 1.219-2.712 2.719-2.712 1.506 0 2.719 1.225 2.719 2.712 0 1.5-1.219 2.706-2.719 2.706zM15.544 26c0-2.556-0.994-4.962-2.794-6.762-1.806-1.806-4.2-2.8-6.75-2.8v-3.912c7.425 0 13.475 6.044 13.475 13.475h-3.931zM22.488 26c0-9.094-7.394-16.5-16.481-16.5v-3.912c11.25 0 20.406 9.162 20.406 20.413h-3.925z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-linkedin-blank" viewBox="0 0 32 32">
         <title>linkedin-blank</title>
         <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3zM12 26h-4v-14h4v14zM10 10c-1.106 0-2-0.894-2-2s0.894-2 2-2c1.106 0 2 0.894 2 2s-0.894 2-2 2zM26 26h-4v-8c0-1.106-0.894-2-2-2s-2 0.894-2 2v8h-4v-14h4v2.481c0.825-1.131 2.087-2.481 3.5-2.481 2.488 0 4.5 2.238 4.5 5v9z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-pinterest-blank" viewBox="0 0 32 32">
         <title>pinterest</title>
         <path d="M16 2.138c-7.656 0-13.863 6.206-13.863 13.863 0 5.875 3.656 10.887 8.813 12.906-0.119-1.094-0.231-2.781 0.050-3.975 0.25-1.081 1.625-6.887 1.625-6.887s-0.412-0.831-0.412-2.056c0-1.925 1.119-3.369 2.506-3.369 1.181 0 1.756 0.887 1.756 1.95 0 1.188-0.756 2.969-1.15 4.613-0.331 1.381 0.688 2.506 2.050 2.506 2.462 0 4.356-2.6 4.356-6.35 0-3.319-2.387-5.638-5.787-5.638-3.944 0-6.256 2.956-6.256 6.019 0 1.194 0.456 2.469 1.031 3.163 0.113 0.137 0.131 0.256 0.094 0.4-0.106 0.438-0.338 1.381-0.387 1.575-0.063 0.256-0.2 0.306-0.463 0.188-1.731-0.806-2.813-3.337-2.813-5.369 0-4.375 3.175-8.387 9.156-8.387 4.806 0 8.544 3.425 8.544 8.006 0 4.775-3.012 8.625-7.194 8.625-1.406 0-2.725-0.731-3.175-1.594 0 0-0.694 2.644-0.863 3.294-0.313 1.206-1.156 2.712-1.725 3.631 1.3 0.4 2.675 0.619 4.106 0.619 7.656 0 13.863-6.206 13.863-13.863 0-7.662-6.206-13.869-13.863-13.869z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-youtube-blank" viewBox="0 0 32 32">
         <title>youtube</title>
         <path d="M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-twitter-blank" viewBox="0 0 32 32">
         <title>twitter</title>
         <path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-instagram-blank" viewBox="0 0 32 32">
         <title>instagram</title>
         <path d="M16 2.881c4.275 0 4.781 0.019 6.462 0.094 1.563 0.069 2.406 0.331 2.969 0.55 0.744 0.288 1.281 0.638 1.837 1.194 0.563 0.563 0.906 1.094 1.2 1.838 0.219 0.563 0.481 1.412 0.55 2.969 0.075 1.688 0.094 2.194 0.094 6.463s-0.019 4.781-0.094 6.463c-0.069 1.563-0.331 2.406-0.55 2.969-0.288 0.744-0.637 1.281-1.194 1.837-0.563 0.563-1.094 0.906-1.837 1.2-0.563 0.219-1.413 0.481-2.969 0.55-1.688 0.075-2.194 0.094-6.463 0.094s-4.781-0.019-6.463-0.094c-1.563-0.069-2.406-0.331-2.969-0.55-0.744-0.288-1.281-0.637-1.838-1.194-0.563-0.563-0.906-1.094-1.2-1.837-0.219-0.563-0.481-1.413-0.55-2.969-0.075-1.688-0.094-2.194-0.094-6.463s0.019-4.781 0.094-6.463c0.069-1.563 0.331-2.406 0.55-2.969 0.288-0.744 0.638-1.281 1.194-1.838 0.563-0.563 1.094-0.906 1.838-1.2 0.563-0.219 1.412-0.481 2.969-0.55 1.681-0.075 2.188-0.094 6.463-0.094zM16 0c-4.344 0-4.887 0.019-6.594 0.094-1.7 0.075-2.869 0.35-3.881 0.744-1.056 0.412-1.95 0.956-2.837 1.85-0.894 0.888-1.438 1.781-1.85 2.831-0.394 1.019-0.669 2.181-0.744 3.881-0.075 1.713-0.094 2.256-0.094 6.6s0.019 4.887 0.094 6.594c0.075 1.7 0.35 2.869 0.744 3.881 0.413 1.056 0.956 1.95 1.85 2.837 0.887 0.887 1.781 1.438 2.831 1.844 1.019 0.394 2.181 0.669 3.881 0.744 1.706 0.075 2.25 0.094 6.594 0.094s4.888-0.019 6.594-0.094c1.7-0.075 2.869-0.35 3.881-0.744 1.050-0.406 1.944-0.956 2.831-1.844s1.438-1.781 1.844-2.831c0.394-1.019 0.669-2.181 0.744-3.881 0.075-1.706 0.094-2.25 0.094-6.594s-0.019-4.887-0.094-6.594c-0.075-1.7-0.35-2.869-0.744-3.881-0.394-1.063-0.938-1.956-1.831-2.844-0.887-0.887-1.781-1.438-2.831-1.844-1.019-0.394-2.181-0.669-3.881-0.744-1.712-0.081-2.256-0.1-6.6-0.1v0z"></path>
         <path d="M16 7.781c-4.537 0-8.219 3.681-8.219 8.219s3.681 8.219 8.219 8.219 8.219-3.681 8.219-8.219c0-4.537-3.681-8.219-8.219-8.219zM16 21.331c-2.944 0-5.331-2.387-5.331-5.331s2.387-5.331 5.331-5.331c2.944 0 5.331 2.387 5.331 5.331s-2.387 5.331-5.331 5.331z"></path>
         <path d="M26.462 7.456c0 1.060-0.859 1.919-1.919 1.919s-1.919-0.859-1.919-1.919c0-1.060 0.859-1.919 1.919-1.919s1.919 0.859 1.919 1.919z"></path>
      </symbol>
   </defs>
</svg>
</div></body></html>