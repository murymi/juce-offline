<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0055)https://docs.juce.com/master/tutorial_midi_message.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta name="generator" content="Doxygen 1.11.0">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JUCE: Tutorial: Create MIDI data</title>
<link href="./JUCE_ Tutorial_ Create MIDI data_files/tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./JUCE_ Tutorial_ Create MIDI data_files/jquery.js"></script>
<script type="text/javascript" src="./JUCE_ Tutorial_ Create MIDI data_files/dynsections.js"></script>
<link href="./JUCE_ Tutorial_ Create MIDI data_files/navtree.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./JUCE_ Tutorial_ Create MIDI data_files/resize.js"></script>
<script type="text/javascript" src="./JUCE_ Tutorial_ Create MIDI data_files/cookie.js"></script>
<link href="./JUCE_ Tutorial_ Create MIDI data_files/search.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./JUCE_ Tutorial_ Create MIDI data_files/searchdata.js"></script>
<script type="text/javascript" src="./JUCE_ Tutorial_ Create MIDI data_files/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="./JUCE_ Tutorial_ Create MIDI data_files/doxygen.css" rel="stylesheet" type="text/css">
<link rel="apple-touch-icon" sizes="180x180" href="https://docs.juce.com/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://docs.juce.com/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://docs.juce.com/favicons/favicon-16x16.png">
<link rel="manifest" href="https://docs.juce.com/favicons/site.webmanifest">
<link rel="mask-icon" href="https://docs.juce.com/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://docs.juce.com/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-config" content="../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="preload" as="style" href="./JUCE_ Tutorial_ Create MIDI data_files/css">
<link rel="stylesheet" href="./JUCE_ Tutorial_ Create MIDI data_files/css">
<script src="./JUCE_ Tutorial_ Create MIDI data_files/script.js" site="COHIAING" defer=""></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <header id="_header-4-13" class="oxy-header-wrapper oxy-overlay-header oxy-header"><div id="_header_row-5-13" class="oxy-header-row"><div class="oxy-header-container"><div id="_header_left-6-13" class="oxy-header-left"><a id="link-7-13" class="ct-link" href="https://juce.com/"><img id="image-8-13" alt="JUCE Logo" src="./JUCE_ Tutorial_ Create MIDI data_files/JUCE-logo-horiz-ondark.png" class="ct-image"></a></div><div id="_header_center-9-13" class="oxy-header-center"></div><div id="_header_right-10-13" class="oxy-header-right"><nav id="_nav_menu-11-13" class="oxy-nav-menu oxy-nav-menu-dropdowns oxy-nav-menu-dropdown-arrow oxy-nav-menu-responsive-dropdowns"><div class="oxy-menu-toggle"><div class="oxy-nav-menu-hamburger-wrap"><div class="oxy-nav-menu-hamburger"><div class="oxy-nav-menu-hamburger-line"></div><div class="oxy-nav-menu-hamburger-line"></div><div class="oxy-nav-menu-hamburger-line"></div></div></div></div><div class="menu-main-menu-container"><ul id="menu-main-menu" class="oxy-nav-menu-list"><li id="menu-item-290" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-290"><a href="https://juce.com/juce/whats-new/">Discover</a>
    <ul class="sub-menu">
        <li id="menu-item-254" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-254"><a href="https://juce.com/juce/whats-new/">What's New</a></li>
        <li id="menu-item-252" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-252"><a href="https://juce.com/juce/features/">Features</a></li>
    </ul>
    </li>
    <li id="menu-item-291" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-291"><a href="https://juce.com/learn/documentation/">Learn</a>
    <ul class="sub-menu">
        <li id="menu-item-241" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-241"><a href="https://juce.com/learn/documentation/">Documentation</a></li>
        <li id="menu-item-240" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-240"><a href="https://juce.com/learn/tutorials/">Tutorials</a></li>
        <li id="menu-item-275" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-275"><a href="https://juce.com/stories/">Made with JUCE</a></li>
        <li id="menu-item-242" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-242"><a href="https://juce.com/resources/">Resources</a></li>
    </ul>
    </li>
    <li id="menu-item-230" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-230"><a href="https://forum.juce.com/">Forum</a></li>
    </ul></div></nav><a id="link-28-13" class="ct-link" href="https://account.juce.com/account/dashboard" target="_self"><div id="fancy_icon-27-13" class="ct-fancy-icon"><svg id="svg-fancy_icon-27-13"><use xlink:href="#FontAwesomeicon-user-circle"></use></svg></div></a><a id="link_button-23-13" class="ct-link-button " href="https://juce.com/get-juce/">Get JUCE</a></div></div></div></header>
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1"><defs><symbol id="FontAwesomeicon-user-circle" viewBox="0 0 28 28"><title>user-circle</title><path d="M23.797 20.922c-0.406-2.922-1.594-5.516-4.25-5.875-1.375 1.5-3.359 2.453-5.547 2.453s-4.172-0.953-5.547-2.453c-2.656 0.359-3.844 2.953-4.25 5.875 2.172 3.063 5.75 5.078 9.797 5.078s7.625-2.016 9.797-5.078zM20 10c0-3.313-2.688-6-6-6s-6 2.688-6 6 2.688 6 6 6 6-2.688 6-6zM28 14c0 7.703-6.25 14-14 14-7.734 0-14-6.281-14-14 0-7.734 6.266-14 14-14s14 6.266 14 14z"></path></symbol></defs></svg>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            jQuery('body').on('click', '.oxy-menu-toggle', function() {
                jQuery(this).parent('.oxy-nav-menu').toggleClass('oxy-nav-menu-open');
                jQuery('body').toggleClass('oxy-nav-menu-prevent-overflow');
                jQuery('html').toggleClass('oxy-nav-menu-prevent-overflow');
            });
            var selector = '.oxy-nav-menu-open .menu-item a[href*="#"]';
            jQuery('body').on('click', selector, function(){
                jQuery('.oxy-nav-menu-open').removeClass('oxy-nav-menu-open');
                jQuery('body').removeClass('oxy-nav-menu-prevent-overflow');
                jQuery('html').removeClass('oxy-nav-menu-prevent-overflow');
                jQuery(this).click();
            });
        });
    </script>
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="https://docs.juce.com/master/index.html"><span>Tags</span></a></li>
      <li><a href="https://docs.juce.com/master/topics.html"><span>JUCE&nbsp;Modules</span></a></li>
      <li><a href="https://docs.juce.com/master/classes.html"><span>Alphabetical</span></a></li>
      <li><a href="https://juce.com/learn/tutorials"><span>Tutorials</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" tabindex="0">&nbsp;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="./JUCE_ Tutorial_ Create MIDI data_files/close.svg" alt=""></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)" tabindex="0">
<a class="SelectItem" onclick="searchBox.OnSelectItem(0)" href="javascript:void(0)"><span class="SelectionMark">â€¢</span>All</a><a class="SelectItem" onclick="searchBox.OnSelectItem(1)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" onclick="searchBox.OnSelectItem(2)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" onclick="searchBox.OnSelectItem(3)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" onclick="searchBox.OnSelectItem(4)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" onclick="searchBox.OnSelectItem(5)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" onclick="searchBox.OnSelectItem(6)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" onclick="searchBox.OnSelectItem(7)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" onclick="searchBox.OnSelectItem(8)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" onclick="searchBox.OnSelectItem(9)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" onclick="searchBox.OnSelectItem(10)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Macros</a><a class="SelectItem" onclick="searchBox.OnSelectItem(11)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Modules</a><a class="SelectItem" onclick="searchBox.OnSelectItem(12)" href="javascript:void(0)"><span class="SelectionMark">&nbsp;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content" style="height: 807.891px;">
<div><div class="header">
  <div class="headertitle"><div class="title">Tutorial: Create MIDI data</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_getting_started">Getting started</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_demo_project">The demo project</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_midi_message">The MidiMessage class</a><ul><li class="level2"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_creating_midi_message_objects">Creating MidiMessage objects</a></li>
<li class="level2"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_parsing_midi_message_objects">Parsing MidiMessage objects</a></li>
</ul>
</li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_midi_buffer">The MidiBuffer class</a><ul><li class="level2"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_adding_messages_to_buffer">Adding MIDI messages to a MidiBuffer object</a></li>
<li class="level2"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_iterating_midi_buffer">Iterating over a MidiBuffer object</a></li>
</ul>
</li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_summary">Summary</a></li>
<li class="level1"><a href="https://docs.juce.com/master/tutorial_midi_message.html#tutorial_midi_message_see_also">See also</a></li>
</ul>
</div>
<div class="textblock"><p>This tutorial introduces the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> class, which is used for representing MIDI data. The <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> class is also introduced for handling buffers of MIDI messages.</p>
<p><span class="headerlabel">Level:</span> Beginner</p>
<p><span class="headerlabel">Platforms:</span> Windows , macOS , Linux , iOS , Android</p>
<p><span class="headerlabel">Classes:</span> <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a>, <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a>, <a class="el" href="https://docs.juce.com/master/classTime.html" title="Holds an absolute date and time.">Time</a>, <a class="el" href="https://docs.juce.com/master/classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a></p>
<h1><a class="anchor" id="tutorial_midi_message_getting_started"></a>
Getting started</h1>
<dl class="section note"><dt>Note</dt><dd>This tutorial assumes that you are familiar with MIDI in general. You should also be familiar with using JUCE buttons and sliders (see <a class="el" href="https://docs.juce.com/master/tutorial_slider_values.html">Tutorial: The Slider class</a> and <a class="el" href="https://docs.juce.com/master/tutorial_listeners_and_broadcasters.html">Tutorial: Listeners and Broadcasters</a>).</dd></dl>
<p>Download the demo project for this tutorial here: <a href="https://docs.juce.com/tutorials/PIPs/MidiMessageTutorial.zip">PIP</a> | <a href="https://docs.juce.com/tutorials/ZIPs/MidiMessageTutorial.zip">ZIP</a> . Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a class="el" href="https://docs.juce.com/master/tutorial_new_projucer_project.html">Tutorial: Projucer Part 1: Getting started with the Projucer</a>.</p>
<h1><a class="anchor" id="tutorial_midi_message_demo_project"></a>
The demo project</h1>
<p>The demo project presents four buttons to create MIDI messages on MIDI channel 10. These buttons create note-on messages for four of the standard (General MIDI) drum sounds: bass drum, snare drum, closed hi-hat, and open hi-hat. There is also a slider that creates a volume controller message (continuous controller 7). The interface is shown in the following screenshot.</p>
<div class="image">
<img src="./JUCE_ Tutorial_ Create MIDI data_files/tutorial_midi_message_screenshot1.png" alt="">
<div class="caption">
Drum pad buttons and a volume slider</div></div>
<p>The panel on the right-hand side displays the list of MIDI messages than have been generated, along with a timestamp (relative to the time that the application was launched).</p>
<dl class="section note"><dt>Note</dt><dd>The application doesn't send any MIDI data, or make any sound, it only displays the MIDI data.</dd></dl>
<h1><a class="anchor" id="tutorial_midi_message_midi_message"></a>
The MidiMessage class</h1>
<p>This tutorial illustrates the code required to create some MIDI message types. It also includes some code to parse most MIDI message types. In general, the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> class contains a range of <code class="code">static</code> member functions for creating <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects (for example the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a24e09d2737c08842a6e4902554d2899c" title="Creates a key-down message (using a floating-point velocity).">MidiMessage::noteOn()</a> function for creating note-on messages). There are also a range of member functions for querying and accessing <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects (for example, the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a590da92c0536e23f9d3c90c99278d789" title="Returns true if this message is a &#39;key-down&#39; event.">MidiMessage::isNoteOn()</a> and <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a6a5f965e98254fb026c5a20b64edcbc1" title="Returns the midi note number for note-on and note-off messages.">MidiMessage::getNoteNumber()</a> functions).</p>
<h2><a class="anchor" id="tutorial_midi_message_creating_midi_message_objects"></a>
Creating MidiMessage objects</h2>
<p>Have a look at the <a href="https://docs.juce.com/master/classMidiMessage.html#pub-static-methods">public static member functions</a> for the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> class. This lists all of the functions for creating different types of MIDI message. You can also create <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects from the individual bytes or raw data but these <em>must</em> be valid MIDI messages according to the MIDI specification. (An assertion will be generated in a debug build if you create an invalid <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> object.)</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects should normally be stored as local or member variables and passed by value.</dd></dl>
<p>To create a note-on message use the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a24e09d2737c08842a6e4902554d2899c" title="Creates a key-down message (using a floating-point velocity).">MidiMessage::noteOn()</a> function. This needs the MIDI channel (numbered <span style="font-family: times; font-style: italic">1 .. 16</span> ), the note number (<span style="font-family: times; font-style: italic">0 .. 127</span> ), and the velocity (as a <code class="code">uint8</code> value <span style="font-family: times; font-style: italic">0 .. 127</span> ). Alternatively, the velocity can be expressed as a <code class="code">float</code> value which will be converted to <span style="font-family: times; font-style: italic">0 .. 127</span> internally (rounded to the nearest integer).</p>
<dl class="section note"><dt>Note</dt><dd>A note-on with zero velocity is actually a note-off message so note-on velocities are in the range <span style="font-family: times; font-style: italic">1 .. 127</span> (which makes the minimum floating-point velocity for a note-on around <code class="code">0.004f</code> ). There is also the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a8f2c46b2cf557f4e4f55174a68915587" title="Creates a key-up message.">MidiMessage::noteOff()</a> function for specifically creating note-off messages that also allows you to specify a note-off velocity (which is recognised by some synthesisers).</dd></dl>
<p>In our demo project we create a note-on message with velocity of 100 and a different note number depending on which button was clicked:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setNoteNumber (<span class="keywordtype">int</span> noteNumber)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> message = juce::MidiMessage::noteOn (midiChannel, noteNumber, (juce::uint8) 100);</div>
<div class="line">        message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">        addMessageToList (message);</div>
<div class="line">    }</div>
</div><!-- fragment --><p>Notice that the <code class="code">noteNumber</code> value is set by one of our buttons and gets passed to the setNoteNumber() function. We also need to cast the value <code class="code">100</code> to the <code class="code">uint8</code> type. If we don't do this then there is a compiler ambiguity regarding which of the versions of the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a24e09d2737c08842a6e4902554d2899c" title="Creates a key-down message (using a floating-point velocity).">MidiMessage::noteOn()</a> function should be called.</p>
<p>Setting the timestamp of a <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> is optional but it's very useful for keeping track of the time that events were generated or received. The default timestamp is zero and the time units of the timestamp are not defined. In general, it is up to the application to decide what time units to use. In this simple case we are using seconds as the units by obtaining the current time using the <a class="el" href="https://docs.juce.com/master/classTime.html#a3f2fcf93d44c6b3828c82f5d4c18b0e4" title="Returns the number of millisecs since a fixed event (usually system startup).">Time::getMillisecondCounterHiRes()</a> function and multiplying by 0.001 (and subtracting the time that the application started so that this is relative to that point in time).</p>
<p>The volume slider is used to create a continuous controller (CC) message. CC7 is the the volume control change message:</p>
<div class="fragment"><div class="line">        volumeSlider.onValueChange = [<span class="keyword">this</span>]</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> message = juce::MidiMessage::controllerEvent (midiChannel, 7, (<span class="keywordtype">int</span>) volumeSlider.getValue());</div>
<div class="line">            message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">            addMessageToList (message);</div>
<div class="line">        };</div>
</div><!-- fragment --><h2><a class="anchor" id="tutorial_midi_message_parsing_midi_message_objects"></a>
Parsing MidiMessage objects</h2>
<p>Our <code class="project_code">addMessageToList()</code> function parses the timestamp and the MIDI message so that it can be displayed in the list of messages in our interface:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> addMessageToList (<span class="keyword">const</span> juce::MidiMessage&amp; message)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> time = message.getTimeStamp();</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> hours   = ((int) (time / 3600.0)) % 24;</div>
<div class="line">        <span class="keyword">auto</span> minutes = ((int) (time / 60.0)) % 60;</div>
<div class="line">        <span class="keyword">auto</span> seconds = ((int) time) % 60;</div>
<div class="line">        <span class="keyword">auto</span> millis  = ((int) (time * 1000.0)) % 1000;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> timecode = juce::String::formatted (<span class="stringliteral">"%02d:%02d:%02d.%03d"</span>,</div>
<div class="line">                                                 hours,</div>
<div class="line">                                                 minutes,</div>
<div class="line">                                                 seconds,</div>
<div class="line">                                                 millis);</div>
<div class="line"> </div>
<div class="line">        logMessage (timecode + <span class="stringliteral">"  -  "</span> + getMidiMessageDescription (message));</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The <code class="project_code">getMidiMessageDescription()</code> function actually parses the MIDI data to get a human-readable description of the message.</p>
<div class="fragment"><div class="line">    <span class="keyword">static</span> juce::String getMidiMessageDescription (<span class="keyword">const</span> juce::MidiMessage&amp; m)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (m.isNoteOn())           <span class="keywordflow">return</span> <span class="stringliteral">"Note on "</span>          + juce::MidiMessage::getMidiNoteName (m.getNoteNumber(), <span class="keyword">true</span>, <span class="keyword">true</span>, 3);</div>
<div class="line">        <span class="keywordflow">if</span> (m.isNoteOff())          <span class="keywordflow">return</span> <span class="stringliteral">"Note off "</span>         + juce::MidiMessage::getMidiNoteName (m.getNoteNumber(), <span class="keyword">true</span>, <span class="keyword">true</span>, 3);</div>
<div class="line">        <span class="keywordflow">if</span> (m.isProgramChange())    <span class="keywordflow">return</span> <span class="stringliteral">"Program change "</span>   + juce::String (m.getProgramChangeNumber());</div>
<div class="line">        <span class="keywordflow">if</span> (m.isPitchWheel())       <span class="keywordflow">return</span> <span class="stringliteral">"Pitch wheel "</span>      + juce::String (m.getPitchWheelValue());</div>
<div class="line">        <span class="keywordflow">if</span> (m.isAftertouch())       <span class="keywordflow">return</span> <span class="stringliteral">"After touch "</span>      + juce::MidiMessage::getMidiNoteName (m.getNoteNumber(), <span class="keyword">true</span>, <span class="keyword">true</span>, 3) +  <span class="stringliteral">": "</span> + juce::String (m.getAfterTouchValue());</div>
<div class="line">        <span class="keywordflow">if</span> (m.isChannelPressure())  <span class="keywordflow">return</span> <span class="stringliteral">"Channel pressure "</span> + juce::String (m.getChannelPressureValue());</div>
<div class="line">        <span class="keywordflow">if</span> (m.isAllNotesOff())      <span class="keywordflow">return</span> <span class="stringliteral">"All notes off"</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (m.isAllSoundOff())      <span class="keywordflow">return</span> <span class="stringliteral">"All sound off"</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (m.isMetaEvent())        <span class="keywordflow">return</span> <span class="stringliteral">"Meta event"</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (m.isController())</div>
<div class="line">        {</div>
<div class="line">            juce::String <a class="code hl_variable" href="https://docs.juce.com/master/group__juce__audio__plugin__client-Unity.html#ga010e50efcb9d6d393b9414f09f368dbc">name</a> (juce::MidiMessage::getControllerName (m.getControllerNumber()));</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code hl_variable" href="https://docs.juce.com/master/group__juce__audio__plugin__client-Unity.html#ga010e50efcb9d6d393b9414f09f368dbc">name</a>.isEmpty())</div>
<div class="line">                <a class="code hl_variable" href="https://docs.juce.com/master/group__juce__audio__plugin__client-Unity.html#ga010e50efcb9d6d393b9414f09f368dbc">name</a> = <span class="stringliteral">"["</span> + juce::String (m.getControllerNumber()) + <span class="stringliteral">"]"</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">"Controller "</span> + <a class="code hl_variable" href="https://docs.juce.com/master/group__juce__audio__plugin__client-Unity.html#ga010e50efcb9d6d393b9414f09f368dbc">name</a> + <span class="stringliteral">": "</span> + juce::String (m.getControllerValue());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> juce::String::toHexString (m.getRawData(), m.getRawDataSize());</div>
<div class="line">    }</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The same functionality is already available through the member function <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a868d95a096fad999de5ba11f9a2f6340" title="Returns a human-readable description of the midi message as a string, for example &quot;Note On C#3 Veloci...">MidiMessage::getDescription()</a>. We do not use the ready-made implementation here but implement it ourselves to illustrate how to work with MIDI messages of different types.</dd></dl>
<p>This function attempts to parse all types of MIDI message (even though we have only looked at creating note-on and controller messages so far). Here you can see the recommended method of accessing the data in a <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> object:</p><ul>
<li>determine the type of MIDI message (using one of the functions that start with "is"); then</li>
<li>use appropriate functions for accessing that type of MIDI message.</li>
</ul>
<p>We would only reach the final line of this function if the message was a system message (system exclusive, for example). You can access the raw data of any message using <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#acb371198496cdac48c2fe2a96c884913" title="Returns a pointer to the raw midi data.">MidiMessage::getRawData()</a> but generally it is easier (and more readable) to use the range of built-in functions for most purposes.</p>
<dl class="section warning"><dt>Warning</dt><dd>Using functions to access data in a <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> for messages of the wrong type will lead to errors. For example, the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a6a5f965e98254fb026c5a20b64edcbc1" title="Returns the midi note number for note-on and note-off messages.">MidiMessage::getNoteNumber()</a> function will return a value from any <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> object but this doesn't confirm that the message is either a note-on or note-off message. You <em>must</em> check first with one of the functions <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a590da92c0536e23f9d3c90c99278d789" title="Returns true if this message is a &#39;key-down&#39; event.">MidiMessage::isNoteOn()</a>, <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#af66814dee34738882ba39d8796b77be0" title="Returns true if this message is a &#39;key-up&#39; event.">MidiMessage::isNoteOff()</a>, or <a class="el" href="https://docs.juce.com/master/classMidiMessage.html#a0d1c1c5927eb898dbacb832f768299bc" title="Returns true if this message is a &#39;key-down&#39; or &#39;key-up&#39; event.">MidiMessage::isNoteOnOrOff()</a>.</dd></dl>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Modify the <code class="project_code">getMidiMessageDescription()</code> function so that it lists the velocity of note-on messages. Check the API reference to find out which function you should use. </dd>
</dl>
<h1><a class="anchor" id="tutorial_midi_message_midi_buffer"></a>
The MidiBuffer class</h1>
<p>One problem with our demo application is that it doesn't create note-off messages. We are just creating MIDI messages intended for percussion sounds, so this doesn't seem like a big problem. But, it's bad practice not to create note-off messages for corresponding note-on messages (with sustaining sounds it will lead to <em>stuck</em> notes).</p>
<p>We could just add a note-off immediately following the note-on in the <code class="project_code">setNoteNumber()</code> function:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> message = juce::MidiMessage::noteOn (1, noteNumber, (<a class="code hl_typedef" href="https://docs.juce.com/master/group__juce__core-maths.html#ga34ecedcf03a70dc91e4616212d79267d">uint8</a>) 100);</div>
<div class="line">message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">addMessageToList (message);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> messageOff = juce::MidiMessage::noteOff (message.getChannel(), message.getNoteNumber());</div>
<div class="line">messageOff.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">addMessageToList (messageOff);</div>
<div class="ttc" id="agroup__juce__core-maths_html_ga34ecedcf03a70dc91e4616212d79267d"><div class="ttname"><a href="https://docs.juce.com/master/group__juce__core-maths.html#ga34ecedcf03a70dc91e4616212d79267d">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">A platform-independent 8-bit unsigned integer type.</div><div class="ttdef"><b>Definition</b> juce_MathsFunctions.h:52</div></div>
</div><!-- fragment --><p>We could even change the timestamp of the note-off message (for example 0.1s after the note-on message) but this won't change when the messages are posted to the list:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> message = juce::MidiMessage::noteOn (1, noteNumber, (<a class="code hl_typedef" href="https://docs.juce.com/master/group__juce__core-maths.html#ga34ecedcf03a70dc91e4616212d79267d">uint8</a>) 100);</div>
<div class="line">message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">addMessageToList (message);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> messageOff = juce::MidiMessage::noteOff (message.getChannel(), message.getNoteNumber());</div>
<div class="line">messageOff.setTimeStamp (message.getTimeStamp() + 0.1);</div>
<div class="line">addMessageToList (messageOff);</div>
</div><!-- fragment --><p>The <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> class provides functions for iterating over buffers of MIDI messages based on their timestamps. To illustrate this we will set up a simple scheduling system where we add <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects with specific timestamps to a <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> object. Then we use a <a class="el" href="https://docs.juce.com/master/classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a> object that checks regularly whether any MIDI messages are due to be delivered.</p>
<dl class="section warning"><dt>Warning</dt><dd>The <a class="el" href="https://docs.juce.com/master/classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a> class is not suitable for high-precision timing. This is used to keep the example simple by keeping all function calls on the <em>message thread</em>. For more robust timing you should use another thread (in most cases the audio thread is appropriate for rendering <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> objects in to audio).</dd></dl>
<p>Add some members to our <code class="project_code">MainContentComponent</code> class:</p>
<div class="fragment"><div class="line">    juce::MidiBuffer midiBuffer;        <span class="comment">// [1]</span></div>
<div class="line">    <span class="keywordtype">double</span> sampleRate = 44100.0;        <span class="comment">// [2]</span></div>
<div class="line">    <span class="keywordtype">int</span> previousSampleNumber = 0;       <span class="comment">// [3]</span></div>
</div><!-- fragment --><ul>
<li><span class="comment">[1]</span> : The <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> object itself.</li>
<li><span class="comment">[2]</span> : The <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> class uses <em>samples</em> as the units for the timestamps of MIDI messages. Although we are not generating audio we need to choose something to use as the <em>sample rate</em>. We use this member to store the sample rate. (We use 44,100 since this is a common value.)</li>
<li><span class="comment">[3]</span> : We need to keep track of which timestamp we have already reached within the <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a>. We use this member to store the this timestamp in samples.</li>
</ul>
<h2><a class="anchor" id="tutorial_midi_message_adding_messages_to_buffer"></a>
Adding MIDI messages to a MidiBuffer object</h2>
<p>Instead of adding our MIDI message directly to the list of messages, we add them to our <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> object. Add this function, which calls the <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html#a845368d1fa4a8b3f315e2f3508b2003a" title="Adds an event to the buffer.">MidiBuffer::addEvent()</a> function:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> addMessageToBuffer (<span class="keyword">const</span> juce::MidiMessage&amp; message)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> timestamp = message.getTimeStamp();</div>
<div class="line">        <span class="keyword">auto</span> sampleNumber =  (int) (timestamp * sampleRate);</div>
<div class="line">        midiBuffer.addEvent (message, sampleNumber);</div>
<div class="line">    }</div>
</div><!-- fragment --><p>Now modify the <code class="project_code">setNoteNumber()</code> function and the <a class="el" href="https://docs.juce.com/master/classSlider.html#a680d007f6a824a28a60aa05b4045e794" title="You can assign a lambda to this callback object to have it called when the slider value is changed.">Slider::onValueChange</a> helper object to make use of this function. This allows us to schedule MIDI message events into the future:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> setNoteNumber (<span class="keywordtype">int</span> noteNumber)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> message = juce::MidiMessage::noteOn (1, noteNumber, (juce::uint8) 100);</div>
<div class="line">        message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">        addMessageToBuffer (message);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> messageOff = juce::MidiMessage::noteOff (message.getChannel(), message.getNoteNumber());</div>
<div class="line">        messageOff.setTimeStamp (message.getTimeStamp() + 0.1);</div>
<div class="line">        addMessageToBuffer (messageOff);</div>
<div class="line">    }</div>
</div><!-- fragment --><div class="fragment"><div class="line">        volumeSlider.onValueChange = [<span class="keyword">this</span>]</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> message = juce::MidiMessage::controllerEvent (10, 7, (<span class="keywordtype">int</span>) volumeSlider.getValue());</div>
<div class="line">            message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime);</div>
<div class="line">            addMessageToBuffer (message);</div>
<div class="line">        };</div>
</div><!-- fragment --><h2><a class="anchor" id="tutorial_midi_message_iterating_midi_buffer"></a>
Iterating over a MidiBuffer object</h2>
<p>To read the messages from the buffer we need to implement our timer. Add the <a class="el" href="https://docs.juce.com/master/classTimer.html" title="Makes repeated callbacks to a virtual method at a specified time interval.">Timer</a> class as a base class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainContentComponent   : <span class="keyword">public</span> juce::Component,</div>
<div class="line">                               <span class="keyword">private</span> juce::Timer</div>
<div class="line">{</div>
</div><!-- fragment --><p>And implement the <a class="el" href="https://docs.juce.com/master/classTimer.html#a8adc40ca0fb4170737ba12e30481b9d8" title="The user-defined callback routine that actually gets called periodically.">Timer::timerCallback()</a> function:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> timerCallback()<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keyword">auto</span> currentTime = juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime;</div>
<div class="line">        <span class="keyword">auto</span> currentSampleNumber = (int) (currentTime * sampleRate);     <span class="comment">// [4]</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> metadata : midiBuffer)                           <span class="comment">// [5]</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (metadata.samplePosition &gt; currentSampleNumber)           <span class="comment">// [6]</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> message = metadata.getMessage();</div>
<div class="line">            message.setTimeStamp (metadata.samplePosition / sampleRate); <span class="comment">// [7]</span></div>
<div class="line">            addMessageToList (message);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        midiBuffer.clear (previousSampleNumber, currentSampleNumber - previousSampleNumber); <span class="comment">// [8]</span></div>
<div class="line">        previousSampleNumber = currentSampleNumber;                                          <span class="comment">// [9]</span></div>
<div class="line">    }</div>
</div><!-- fragment --><ul>
<li><span class="comment">[4]</span> : Calculate the current time in samples.</li>
<li><span class="comment">[5]</span> : Iterate over the messages in the buffer.</li>
<li><span class="comment">[6]</span> : If the timestamp for the MIDI message most recently retrieved from the <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> object is in the future, then we have finished processing and we exit the <code class="code">while()</code> loop.</li>
<li><span class="comment">[7]</span> : The timestamps of the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects obtained will have the timestamps based on sample numbers. Let's reset this to our seconds-based timestamp system so that it works with our <code class="project_code">addMessageToList()</code> function without having to modify it.</li>
<li><span class="comment">[8]</span> : The <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html#a220d909954450942ecd87a945a82e7aa" title="Removes all events from the buffer.">MidiBuffer::clear()</a> function clears MIDI messages from the buffer that have timestamps within a certain range. We use this to remove messages that we have just processed.</li>
<li><span class="comment">[9]</span> : Keep track of the time that this function executed for use the next time that the <code class="project_code">timerCallback()</code> function is called.</li>
</ul>
<p>Finally, we need to start the timer in our <code class="project_code">MainContentComponent</code> constructor:</p>
<div class="fragment"><div class="line">        setSize (800, 300);</div>
<div class="line">        startTimer (1);</div>
<div class="line">    }</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The code for these modifications can be found in the <code class="filename">MidiMessageTutorial_02.h</code> file of the demo project.</dd></dl>
<dl class="section attention">
<dt>Exercise</dt>
<dd>Add buttons for the crash cymbal (note number 49) and ride cymbal (note number 51). Add a slider for panning control (CC10). Space has been left for you to add these three components in the <code class="project_code">resized()</code> function. </dd>
</dl>
<h1><a class="anchor" id="tutorial_midi_message_summary"></a>
Summary</h1>
<p>This tutorial has introduced the <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> class and the <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> class. After reading this tutorial you should be able to:</p>
<ul>
<li>Create <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> objects of specific types â€” note-on, note-off, continuous controller (control change), and so on.</li>
<li>Parse a <a class="el" href="https://docs.juce.com/master/classMidiMessage.html" title="Encapsulates a MIDI message.">MidiMessage</a> object to discover its type and obtain useful data from it.</li>
<li>Store MIDI messages in a <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> object.</li>
<li>Iterate over MIDI messages in a <a class="el" href="https://docs.juce.com/master/classMidiBuffer.html" title="Holds a sequence of time-stamped midi events.">MidiBuffer</a> object based on their timestamps.</li>
</ul>
<h1><a class="anchor" id="tutorial_midi_message_see_also"></a>
See also</h1>
<ul>
<li><a class="el" href="https://docs.juce.com/master/tutorial_audio_device_manager.html">Tutorial: The AudioDeviceManager class</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_handling_midi_events.html">Tutorial: Handling MIDI events</a></li>
<li><a class="el" href="https://docs.juce.com/master/tutorial_synth_using_midi_input.html">Tutorial: Build a MIDI synthesiser</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<section id="section-10-81" class=" ct-section juce-sitemap"><div class="ct-section-inner-wrap"><div id="div_block-11-81" class="ct-div-block"><div id="new_columns-12-81" class="ct-new-columns"><div id="div_block-13-81" class="ct-div-block"><h3 id="headline-15-81" class="ct-headline ">Purchase</h3><a id="link_text-17-81" class="ct-link-text" href="https://juce.com/get-juce/">Get JUCE</a><h3 id="headline-20-81" class="ct-headline mt-xlrg">Discover</h3><a id="link_text-21-81" class="ct-link-text" href="https://juce.com/juce/whats-new/" target="_self">What's New in JUCE</a><a id="link_text-22-81" class="ct-link-text" href="https://juce.com/juce/features/" target="_self">Features</a><h3 id="headline-25-81" class="ct-headline mt-xlrg">Learn</h3><a id="link_text-27-81" class="ct-link-text" href="https://juce.com/learn/documentation/">Documentaion</a><a id="link_text-26-81" class="ct-link-text" href="https://juce.com/learn/tutorials/">Tutorials</a><a id="link_text-24-81" class="ct-link-text" href="https://juce.com/stories/" target="_self">Made with JUCE</a><a id="link_text-29-127" class="ct-link-text" href="https://juce.com/resources/" target="_self">Resources</a></div><div id="div_block-14-81" class="ct-div-block"><h3 id="headline-28-81" class="ct-headline">Support</h3><a id="link_text-31-81" class="ct-link-text" href="https://forum.juce.com/" target="_self">JUCE Forum</a><a class="ct-link-text" href="https://juce.com/newsletter" target="_self">Newsletter</a><a id="link_text-30-127" class="ct-link-text" href="https://juce.com/archive/">Archive</a><h3 id="headline-32-81" class="ct-headline mt-xlrg">About</h3><a id="link_text-29-81" class="ct-link-text" href="https://juce.com/contact-us/">Contact Us</a><a id="link_text-34-81" class="ct-link-text" href="https://juce.com/juce-legal/">JUCE Legal</a><a id="link_text-30-81" class="ct-link-text" href="https://juce.com/get-juce">JUCE Licensing FAQ</a><h3 id="headline-33-81" class="ct-headline mt-xlrg">Events</h3><a id="link_text-35-81" class="ct-link-text" href="https://audio.dev/" target="_blank">Audio Developer Conference</a></div><div id="div_block-38-81" class="ct-div-block"></div></div></div></div></section>
<section id="section-13-13" class=" ct-section"><div class="ct-section-inner-wrap"><div id="new_columns-14-13" class="ct-new-columns"><div id="div_block-20-13" class="ct-div-block"><div id="_social_icons-22-13" class="oxy-social-icons"><a href="https://www.facebook.com/jucelibrary" target="_blank" class="oxy-social-icons-facebook"><svg><title>Visit our Facebook</title><use xlink:href="#oxy-social-icons-icon-facebook"></use></svg></a><a href="https://twitter.com/jucelibrary" target="_blank" class="oxy-social-icons-twitter"><svg><title>Visit our Twitter</title><use xlink:href="#oxy-social-icons-icon-twitter"></use></svg></a><a href="https://www.linkedin.com/company/juce-c-/" target="_blank" class="oxy-social-icons-linkedin"><svg><title>Visit our LinkedIn</title><use xlink:href="#oxy-social-icons-icon-linkedin"></use></svg></a><a href="https://www.youtube.com/c/JUCElibrary" target="_blank" class="oxy-social-icons-youtube"><svg><title>Visit our YouTube channel</title><use xlink:href="#oxy-social-icons-icon-youtube"></use></svg></a></div></div><div id="div_block-17-13" class="ct-div-block"><a id="link-18-13" class="ct-link" href="https://juce.com/"><img id="image-19-13" alt="JUCE Logo" src="./JUCE_ Tutorial_ Create MIDI data_files/JUCE-logo-horiz-ondark.png" class="ct-image"></a></div><div id="div_block-15-13" class="ct-div-block"><div id="text_block-32-13" class="ct-text-block">Â© Raw Material Software Limited</div></div></div></div></section>
<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
   <defs>
      <symbol id="oxy-social-icons-icon-linkedin" viewBox="0 0 32 32">
         <title>linkedin</title>
         <path d="M12 12h5.535v2.837h0.079c0.77-1.381 2.655-2.837 5.464-2.837 5.842 0 6.922 3.637 6.922 8.367v9.633h-5.769v-8.54c0-2.037-0.042-4.657-3.001-4.657-3.005 0-3.463 2.218-3.463 4.509v8.688h-5.767v-18z"></path>
         <path d="M2 12h6v18h-6v-18z"></path>
         <path d="M8 7c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-facebook" viewBox="0 0 32 32">
         <title>facebook</title>
         <path d="M19 6h5v-6h-5c-3.86 0-7 3.14-7 7v3h-4v6h4v16h6v-16h5l1-6h-6v-3c0-0.542 0.458-1 1-1z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-pinterest" viewBox="0 0 32 32">
         <title>pinterest</title>
         <path d="M16 2.138c-7.656 0-13.863 6.206-13.863 13.863 0 5.875 3.656 10.887 8.813 12.906-0.119-1.094-0.231-2.781 0.050-3.975 0.25-1.081 1.625-6.887 1.625-6.887s-0.412-0.831-0.412-2.056c0-1.925 1.119-3.369 2.506-3.369 1.181 0 1.756 0.887 1.756 1.95 0 1.188-0.756 2.969-1.15 4.613-0.331 1.381 0.688 2.506 2.050 2.506 2.462 0 4.356-2.6 4.356-6.35 0-3.319-2.387-5.638-5.787-5.638-3.944 0-6.256 2.956-6.256 6.019 0 1.194 0.456 2.469 1.031 3.163 0.113 0.137 0.131 0.256 0.094 0.4-0.106 0.438-0.338 1.381-0.387 1.575-0.063 0.256-0.2 0.306-0.463 0.188-1.731-0.806-2.813-3.337-2.813-5.369 0-4.375 3.175-8.387 9.156-8.387 4.806 0 8.544 3.425 8.544 8.006 0 4.775-3.012 8.625-7.194 8.625-1.406 0-2.725-0.731-3.175-1.594 0 0-0.694 2.644-0.863 3.294-0.313 1.206-1.156 2.712-1.725 3.631 1.3 0.4 2.675 0.619 4.106 0.619 7.656 0 13.863-6.206 13.863-13.863 0-7.662-6.206-13.869-13.863-13.869z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-youtube" viewBox="0 0 32 32">
         <title>youtube</title>
         <path d="M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-rss" viewBox="0 0 32 32">
         <title>rss</title>
         <path d="M4.259 23.467c-2.35 0-4.259 1.917-4.259 4.252 0 2.349 1.909 4.244 4.259 4.244 2.358 0 4.265-1.895 4.265-4.244-0-2.336-1.907-4.252-4.265-4.252zM0.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391 2.825 2.822 4.384 6.595 4.384 10.603h6.16c-0-11.651-9.478-21.127-21.121-21.127zM0.012 0v6.136c14.243 0 25.836 11.604 25.836 25.864h6.152c0-17.64-14.352-32-31.988-32z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-twitter" viewBox="0 0 32 32">
         <title>twitter</title>
         <path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-instagram" viewBox="0 0 32 32">
         <title>instagram</title>
         <path d="M16 2.881c4.275 0 4.781 0.019 6.462 0.094 1.563 0.069 2.406 0.331 2.969 0.55 0.744 0.288 1.281 0.638 1.837 1.194 0.563 0.563 0.906 1.094 1.2 1.838 0.219 0.563 0.481 1.412 0.55 2.969 0.075 1.688 0.094 2.194 0.094 6.463s-0.019 4.781-0.094 6.463c-0.069 1.563-0.331 2.406-0.55 2.969-0.288 0.744-0.637 1.281-1.194 1.837-0.563 0.563-1.094 0.906-1.837 1.2-0.563 0.219-1.413 0.481-2.969 0.55-1.688 0.075-2.194 0.094-6.463 0.094s-4.781-0.019-6.463-0.094c-1.563-0.069-2.406-0.331-2.969-0.55-0.744-0.288-1.281-0.637-1.838-1.194-0.563-0.563-0.906-1.094-1.2-1.837-0.219-0.563-0.481-1.413-0.55-2.969-0.075-1.688-0.094-2.194-0.094-6.463s0.019-4.781 0.094-6.463c0.069-1.563 0.331-2.406 0.55-2.969 0.288-0.744 0.638-1.281 1.194-1.838 0.563-0.563 1.094-0.906 1.838-1.2 0.563-0.219 1.412-0.481 2.969-0.55 1.681-0.075 2.188-0.094 6.463-0.094zM16 0c-4.344 0-4.887 0.019-6.594 0.094-1.7 0.075-2.869 0.35-3.881 0.744-1.056 0.412-1.95 0.956-2.837 1.85-0.894 0.888-1.438 1.781-1.85 2.831-0.394 1.019-0.669 2.181-0.744 3.881-0.075 1.713-0.094 2.256-0.094 6.6s0.019 4.887 0.094 6.594c0.075 1.7 0.35 2.869 0.744 3.881 0.413 1.056 0.956 1.95 1.85 2.837 0.887 0.887 1.781 1.438 2.831 1.844 1.019 0.394 2.181 0.669 3.881 0.744 1.706 0.075 2.25 0.094 6.594 0.094s4.888-0.019 6.594-0.094c1.7-0.075 2.869-0.35 3.881-0.744 1.050-0.406 1.944-0.956 2.831-1.844s1.438-1.781 1.844-2.831c0.394-1.019 0.669-2.181 0.744-3.881 0.075-1.706 0.094-2.25 0.094-6.594s-0.019-4.887-0.094-6.594c-0.075-1.7-0.35-2.869-0.744-3.881-0.394-1.063-0.938-1.956-1.831-2.844-0.887-0.887-1.781-1.438-2.831-1.844-1.019-0.394-2.181-0.669-3.881-0.744-1.712-0.081-2.256-0.1-6.6-0.1v0z"></path>
         <path d="M16 7.781c-4.537 0-8.219 3.681-8.219 8.219s3.681 8.219 8.219 8.219 8.219-3.681 8.219-8.219c0-4.537-3.681-8.219-8.219-8.219zM16 21.331c-2.944 0-5.331-2.387-5.331-5.331s2.387-5.331 5.331-5.331c2.944 0 5.331 2.387 5.331 5.331s-2.387 5.331-5.331 5.331z"></path>
         <path d="M26.462 7.456c0 1.060-0.859 1.919-1.919 1.919s-1.919-0.859-1.919-1.919c0-1.060 0.859-1.919 1.919-1.919s1.919 0.859 1.919 1.919z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-facebook-blank" viewBox="0 0 32 32">
         <title>facebook-blank</title>
         <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h13v-14h-4v-4h4v-2c0-3.306 2.694-6 6-6h4v4h-4c-1.1 0-2 0.9-2 2v2h6l-1 4h-5v14h9c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-rss-blank" viewBox="0 0 32 32">
         <title>rss-blank</title>
         <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3zM8.719 25.975c-1.5 0-2.719-1.206-2.719-2.706 0-1.488 1.219-2.712 2.719-2.712 1.506 0 2.719 1.225 2.719 2.712 0 1.5-1.219 2.706-2.719 2.706zM15.544 26c0-2.556-0.994-4.962-2.794-6.762-1.806-1.806-4.2-2.8-6.75-2.8v-3.912c7.425 0 13.475 6.044 13.475 13.475h-3.931zM22.488 26c0-9.094-7.394-16.5-16.481-16.5v-3.912c11.25 0 20.406 9.162 20.406 20.413h-3.925z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-linkedin-blank" viewBox="0 0 32 32">
         <title>linkedin-blank</title>
         <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3zM12 26h-4v-14h4v14zM10 10c-1.106 0-2-0.894-2-2s0.894-2 2-2c1.106 0 2 0.894 2 2s-0.894 2-2 2zM26 26h-4v-8c0-1.106-0.894-2-2-2s-2 0.894-2 2v8h-4v-14h4v2.481c0.825-1.131 2.087-2.481 3.5-2.481 2.488 0 4.5 2.238 4.5 5v9z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-pinterest-blank" viewBox="0 0 32 32">
         <title>pinterest</title>
         <path d="M16 2.138c-7.656 0-13.863 6.206-13.863 13.863 0 5.875 3.656 10.887 8.813 12.906-0.119-1.094-0.231-2.781 0.050-3.975 0.25-1.081 1.625-6.887 1.625-6.887s-0.412-0.831-0.412-2.056c0-1.925 1.119-3.369 2.506-3.369 1.181 0 1.756 0.887 1.756 1.95 0 1.188-0.756 2.969-1.15 4.613-0.331 1.381 0.688 2.506 2.050 2.506 2.462 0 4.356-2.6 4.356-6.35 0-3.319-2.387-5.638-5.787-5.638-3.944 0-6.256 2.956-6.256 6.019 0 1.194 0.456 2.469 1.031 3.163 0.113 0.137 0.131 0.256 0.094 0.4-0.106 0.438-0.338 1.381-0.387 1.575-0.063 0.256-0.2 0.306-0.463 0.188-1.731-0.806-2.813-3.337-2.813-5.369 0-4.375 3.175-8.387 9.156-8.387 4.806 0 8.544 3.425 8.544 8.006 0 4.775-3.012 8.625-7.194 8.625-1.406 0-2.725-0.731-3.175-1.594 0 0-0.694 2.644-0.863 3.294-0.313 1.206-1.156 2.712-1.725 3.631 1.3 0.4 2.675 0.619 4.106 0.619 7.656 0 13.863-6.206 13.863-13.863 0-7.662-6.206-13.869-13.863-13.869z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-youtube-blank" viewBox="0 0 32 32">
         <title>youtube</title>
         <path d="M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-twitter-blank" viewBox="0 0 32 32">
         <title>twitter</title>
         <path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
      </symbol>
      <symbol id="oxy-social-icons-icon-instagram-blank" viewBox="0 0 32 32">
         <title>instagram</title>
         <path d="M16 2.881c4.275 0 4.781 0.019 6.462 0.094 1.563 0.069 2.406 0.331 2.969 0.55 0.744 0.288 1.281 0.638 1.837 1.194 0.563 0.563 0.906 1.094 1.2 1.838 0.219 0.563 0.481 1.412 0.55 2.969 0.075 1.688 0.094 2.194 0.094 6.463s-0.019 4.781-0.094 6.463c-0.069 1.563-0.331 2.406-0.55 2.969-0.288 0.744-0.637 1.281-1.194 1.837-0.563 0.563-1.094 0.906-1.837 1.2-0.563 0.219-1.413 0.481-2.969 0.55-1.688 0.075-2.194 0.094-6.463 0.094s-4.781-0.019-6.463-0.094c-1.563-0.069-2.406-0.331-2.969-0.55-0.744-0.288-1.281-0.637-1.838-1.194-0.563-0.563-0.906-1.094-1.2-1.837-0.219-0.563-0.481-1.413-0.55-2.969-0.075-1.688-0.094-2.194-0.094-6.463s0.019-4.781 0.094-6.463c0.069-1.563 0.331-2.406 0.55-2.969 0.288-0.744 0.638-1.281 1.194-1.838 0.563-0.563 1.094-0.906 1.838-1.2 0.563-0.219 1.412-0.481 2.969-0.55 1.681-0.075 2.188-0.094 6.463-0.094zM16 0c-4.344 0-4.887 0.019-6.594 0.094-1.7 0.075-2.869 0.35-3.881 0.744-1.056 0.412-1.95 0.956-2.837 1.85-0.894 0.888-1.438 1.781-1.85 2.831-0.394 1.019-0.669 2.181-0.744 3.881-0.075 1.713-0.094 2.256-0.094 6.6s0.019 4.887 0.094 6.594c0.075 1.7 0.35 2.869 0.744 3.881 0.413 1.056 0.956 1.95 1.85 2.837 0.887 0.887 1.781 1.438 2.831 1.844 1.019 0.394 2.181 0.669 3.881 0.744 1.706 0.075 2.25 0.094 6.594 0.094s4.888-0.019 6.594-0.094c1.7-0.075 2.869-0.35 3.881-0.744 1.050-0.406 1.944-0.956 2.831-1.844s1.438-1.781 1.844-2.831c0.394-1.019 0.669-2.181 0.744-3.881 0.075-1.706 0.094-2.25 0.094-6.594s-0.019-4.887-0.094-6.594c-0.075-1.7-0.35-2.869-0.744-3.881-0.394-1.063-0.938-1.956-1.831-2.844-0.887-0.887-1.781-1.438-2.831-1.844-1.019-0.394-2.181-0.669-3.881-0.744-1.712-0.081-2.256-0.1-6.6-0.1v0z"></path>
         <path d="M16 7.781c-4.537 0-8.219 3.681-8.219 8.219s3.681 8.219 8.219 8.219 8.219-3.681 8.219-8.219c0-4.537-3.681-8.219-8.219-8.219zM16 21.331c-2.944 0-5.331-2.387-5.331-5.331s2.387-5.331 5.331-5.331c2.944 0 5.331 2.387 5.331 5.331s-2.387 5.331-5.331 5.331z"></path>
         <path d="M26.462 7.456c0 1.060-0.859 1.919-1.919 1.919s-1.919-0.859-1.919-1.919c0-1.060 0.859-1.919 1.919-1.919s1.919 0.859 1.919 1.919z"></path>
      </symbol>
   </defs>
</svg>
</div></body></html>